{"version":3,"sources":["../../node_modules/@tiny-lit/core/lib/cjs/utils.js","../../node_modules/@tiny-lit/core/lib/cjs/expressions.js","../../node_modules/@tiny-lit/core/lib/cjs/linker.js","../../node_modules/@tiny-lit/core/lib/cjs/parser.js","../../node_modules/@tiny-lit/core/lib/cjs/template.js","../../node_modules/@tiny-lit/core/lib/cjs/index.js","../../node_modules/@tiny-lit/element/lib/cjs/withProps.js","../../node_modules/@tiny-lit/core/lib/esm/utils.js","../../node_modules/@tiny-lit/core/lib/esm/expressions.js","../../node_modules/@tiny-lit/core/lib/esm/linker.js","../../node_modules/@tiny-lit/core/lib/esm/parser.js","../../node_modules/@tiny-lit/core/lib/esm/template.js","../../node_modules/@tiny-lit/core/lib/esm/index.js","../../node_modules/@tiny-lit/element/lib/cjs/Scheduler.js","../../node_modules/@tiny-lit/element/lib/cjs/withElement.js","../../node_modules/@tiny-lit/element/lib/cjs/Element.js","../../node_modules/@tiny-lit/element/lib/cjs/index.js","todo/style.js","todo/index.js","karpinsky/index.js","../../node_modules/@tiny-lit/store/lib/cjs/types.js","../../node_modules/@tiny-lit/store/lib/cjs/events.js","../../node_modules/@tiny-lit/store/lib/cjs/store.js","../../node_modules/@tiny-lit/store/lib/cjs/withStore.js","../../node_modules/@tiny-lit/store/lib/cjs/StoreProvider.js","../../node_modules/@tiny-lit/store/lib/cjs/index.js","store/index.js","../../node_modules/@tiny-lit/element/lib/esm/withProps.js","../../node_modules/@tiny-lit/element/lib/esm/Scheduler.js","../../node_modules/@tiny-lit/element/lib/esm/withElement.js","../../node_modules/@tiny-lit/element/lib/esm/Element.js","../../node_modules/@tiny-lit/element/lib/esm/index.js","counter/index.js","../../node_modules/@tiny-lit/router/lib/esm/history/hash.js","../../node_modules/@tiny-lit/router/lib/esm/history/path.js","../../node_modules/@tiny-lit/router/lib/esm/history/index.js","../../node_modules/@tiny-lit/router/lib/esm/router.js","../../node_modules/@tiny-lit/router/lib/esm/types.js","../../node_modules/@tiny-lit/router/lib/esm/events.js","../../node_modules/@tiny-lit/router/lib/esm/RouteElement.js","../../node_modules/@tiny-lit/router/lib/esm/RouterProvider.js","../../node_modules/@tiny-lit/router/lib/esm/index.js","index.js"],"names":["isNode","obj","ownerDocument","replaceContent","content","node","insertBefore","removeNodes","nodes","range","document","createRange","setStartBefore","setEndAfter","length","deleteContents","before","parentNode","moveTemplate","template","currentNode","forEach","nextSibling","getNodeIndex","index","previousSibling","getNodePath","path","unshift","getNodeByPath","i","l","childNodes","AttributeExpression","constructor","element","name","update","value","force","currentValue","setAttribute","hasAttribute","removeAttribute","NodeExpression","undefined","createTextNode","Array","isArray","TemplateCollection","values","create","nodeValue","markerNumber","marker","Number","replace","treeWalkerFilter","__skip","NodeFilter","FILTER_SKIP","FILTER_ACCEPT","linkAttributes","expressions","linkedExpressions","attrs","attributes","item","has","type","nodePath","linkTexts","data","match","key","keyNode","splitText","indexOf","deleteData","linkExpressions","root","treeWalker","createTreeWalker","SHOW_TEXT","SHOW_ELEMENT","size","nextNode","nodeType","Node","TEXT_NODE","ELEMENT_NODE","resolve","fragment","symbols","map","symbol","acceptNode","TemplateCache","Map","createCacheEntry","html","expressionsMap","createElement","innerHTML","parseTemplate","set","cacheEntry","get","importNode","strings","reduce","_a","_b","TemplateSymbol","Symbol","isTemplateEqual","t1","t2","isTemplate","every","s","Template","withKey","slice","call","templates","_flushTemplates","keys","delete","rootNode","push","items","String","appendChild","createDocumentFragment","render","container","instances","WeakMap","prevented","f","e","stopPropagation","preventDefault","loadStorage","defaultValue","localStorage","getItem","JSON","parse","saveStorage","window","requestAnimationFrame","setItem","stringify","shuffle","array","counter","Math","floor","random","temp","TodoMVC","state","todos","filter","Element","nextState","completed","setState","text","target","elements","id","toString","substr","reset","remove","todo","rendered","console","time","timeEnd","style","handleAddTodo","switchCompleted","handleDeleteTodo","setFilter","handleClearCompleted","customElements","define","is","targetSize","rafInterval","fn","running","run","KarpinskyDot","x","y","hover","addEventListener","Boolean","getStyle","KarpinskyTriangle","seconds","performance","slowDown","now","KarpinskyDemo","start","Date","timerInterval","setInterval","tick","bind","renderInterval","clearInterval","elapsed","t","scale","JSONObject","object","Items","title","category","price","ElementWithStore","MyStore","StoreProvider","initialState","getAttribute","cart","count","plugins","store","subscribe","log","actions","addToCart","commit","removeFromCart","removeAllFromCart","mutations","addItem","removeItemByIndex","a","removeItem","updateCount","Basket","dispatch","handleRemove","handleRemoveAll","Object","Item","handleClick","c","StoreDemo","defineProps","__attrsMap","props","properties","attrsMap","toLowerCase","defineProperty","prototype","__props","newValue","oldValue","_scheduled","__observedProps","withProps","Base","arguments","observedAttributes","attributeChangedCallback","_","requestIdleCallback","handler","setTimeout","didTimeout","timeRemaining","max","Scheduler","tasks","process","deadline","shift","timeout","defer","_priority","sort","b","withElement","renderCallbacks","scheduler","connectedCallback","callback","assign","HTMLElement","Counter","clear","querySelector","location","hash","substring","go","listen","removeEventListener","pathname","history","pushState","dispatchEvent","Event","ParamsRegex","parsePath","m","params","pattern","regex","exec","paramRegex","split","join","RegExp","Router","interceptLocals","useHash","routes","handleLocalClick","nodeName","href","origin","goTo","current","some","route","onEnter","onUpdate","callbacks","onLeave","on","r","RouterEvents","requestRouter","el","event","CustomEvent","Request","detail","router","waitComponent","component","Promise","then","whenDefined","localName","RouteElement","componentName","dispose","onRouteEnter","onRouteUpdate","onRouteLeave","removeChild","disconnectedCallback","RouterProvider","onRouterRequest","body"],"mappings":"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","file":"demo.033caf17.map","sourceRoot":"../../packages/demo","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isNode(obj) {\n    return !!obj && !!obj.ownerDocument;\n}\nexports.isNode = isNode;\nfunction replaceContent(content, node) {\n    insertBefore(node, content[0]);\n    removeNodes(content);\n    return node;\n}\nexports.replaceContent = replaceContent;\nfunction removeNodes(nodes) {\n    var range = document.createRange();\n    range.setStartBefore(nodes[0]);\n    range.setEndAfter(nodes[nodes.length - 1]);\n    range.deleteContents();\n}\nexports.removeNodes = removeNodes;\nfunction insertBefore(node, before) {\n    before.parentNode.insertBefore(node, before);\n}\nexports.insertBefore = insertBefore;\nfunction moveTemplate(template, node) {\n    var currentNode = node;\n    template.content.forEach(function (node) {\n        currentNode.parentNode.insertBefore(node, currentNode.nextSibling);\n        currentNode = node;\n    });\n}\nexports.moveTemplate = moveTemplate;\nfunction getNodeIndex(node) {\n    var index = 0;\n    while ((node = node.previousSibling))\n        index++;\n    return index;\n}\nexports.getNodeIndex = getNodeIndex;\nfunction getNodePath(node) {\n    var path = [];\n    while (node.parentNode) {\n        path.unshift(getNodeIndex(node));\n        node = node.parentNode;\n    }\n    return path;\n}\nexports.getNodePath = getNodePath;\nfunction getNodeByPath(node, path) {\n    for (var i = 0, l = path.length; i < l; i++)\n        node = node.childNodes[path[i]];\n    return node;\n}\nexports.getNodeByPath = getNodeByPath;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar template_1 = require(\"./template\");\nvar utils_1 = require(\"./utils\");\nvar AttributeExpression = (function () {\n    function AttributeExpression(element, name) {\n        this.name = name;\n        this.element = element;\n    }\n    AttributeExpression.prototype.update = function (value, force) {\n        var _a = this, name = _a.name, element = _a.element, currentValue = _a.value;\n        if (!force && currentValue === value) {\n            return;\n        }\n        if (name in element) {\n            element[name] = value;\n        }\n        else if (value != null) {\n            element.setAttribute(name, value);\n        }\n        if (value == null && element.hasAttribute(name)) {\n            element.removeAttribute(name);\n        }\n        this.value = value;\n    };\n    return AttributeExpression;\n}());\nexports.AttributeExpression = AttributeExpression;\nvar NodeExpression = (function () {\n    function NodeExpression(element) {\n        this.element = element;\n        this.value = undefined;\n    }\n    NodeExpression.prototype.update = function (value, force) {\n        var element = this.element;\n        if (value === undefined || value === null) {\n            value = document.createTextNode('');\n        }\n        else if (!force && value === this.value) {\n            return;\n        }\n        if (Array.isArray(value))\n            value = new template_1.TemplateCollection(value);\n        if (!utils_1.isNode(value) && !template_1.isTemplate(value) && !template_1.isTemplate(element)) {\n            element.nodeValue = value;\n        }\n        else if (template_1.isTemplateEqual(element, value)) {\n            element.update(value.values);\n        }\n        else {\n            utils_1.replaceContent(template_1.isTemplate(element)\n                ? element.content\n                : [element], template_1.isTemplate(value)\n                ? value.create()\n                : utils_1.isNode(value)\n                    ? value\n                    : (value = document.createTextNode(value)));\n            this.element = value;\n        }\n        this.value = value;\n    };\n    return NodeExpression;\n}());\nexports.NodeExpression = NodeExpression;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar expressions_1 = require(\"./expressions\");\nvar utils_1 = require(\"./utils\");\nfunction markerNumber(marker) {\n    return Number(marker.replace(/\\D+/g, ''));\n}\nfunction treeWalkerFilter(node) {\n    return node.__skip\n        ? (delete node.__skip, NodeFilter.FILTER_SKIP)\n        : NodeFilter.FILTER_ACCEPT;\n}\ntreeWalkerFilter.acceptNode = treeWalkerFilter;\nfunction linkAttributes(element, expressions, linkedExpressions) {\n    var attrs = element.attributes;\n    var i = attrs.length;\n    while (i--) {\n        var _a = attrs.item(i), name_1 = _a.name, value = _a.value;\n        if (expressions.has(value)) {\n            element.removeAttribute(name_1);\n            linkedExpressions[markerNumber(value)] = {\n                type: expressions_1.AttributeExpression,\n                name: name_1,\n                nodePath: utils_1.getNodePath(element)\n            };\n        }\n    }\n}\nexports.linkAttributes = linkAttributes;\nfunction linkTexts(node, linkedExpressions) {\n    var keys = node.data.match(/__\\d+__/g) || [];\n    keys.forEach(function (key) {\n        var keyNode = node.ownerDocument.createTextNode('');\n        keyNode.__skip = true;\n        node = node.splitText(node.data.indexOf(key));\n        node.deleteData(0, key.length);\n        utils_1.insertBefore(keyNode, node);\n        linkedExpressions[markerNumber(key)] = {\n            type: expressions_1.NodeExpression,\n            name: name,\n            nodePath: utils_1.getNodePath(keyNode)\n        };\n    });\n}\nexports.linkTexts = linkTexts;\nfunction linkExpressions(root, expressions) {\n    var treeWalker = document.createTreeWalker(root, NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT, treeWalkerFilter, false);\n    var linkedExpressions = Array(expressions.size);\n    while (treeWalker.nextNode()) {\n        var node = treeWalker.currentNode;\n        if (node.nodeType === Node.TEXT_NODE)\n            linkTexts(node, linkedExpressions);\n        else if (node.nodeType === Node.ELEMENT_NODE)\n            linkAttributes(node, expressions, linkedExpressions);\n    }\n    return linkedExpressions;\n}\nexports.linkExpressions = linkExpressions;\nfunction resolve(fragment, symbols) {\n    return symbols.map(function (symbol) {\n        return new symbol.type(utils_1.getNodeByPath(fragment, symbol.nodePath), symbol.name);\n    });\n}\nexports.resolve = resolve;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar linker_1 = require(\"./linker\");\nvar TemplateCache = new Map();\nfunction createCacheEntry(html, expressionsMap) {\n    var template = document.createElement('template');\n    template.innerHTML = html;\n    return {\n        template: template,\n        expressions: linker_1.linkExpressions(template.content, expressionsMap)\n    };\n}\nvar parseTemplate = function (html, expressionsMap) {\n    if (!TemplateCache.has(html))\n        TemplateCache.set(html, createCacheEntry(html, expressionsMap));\n    var cacheEntry = TemplateCache.get(html);\n    var fragment = document.importNode(cacheEntry.template.content, true);\n    return {\n        fragment: fragment,\n        expressions: linker_1.resolve(fragment, cacheEntry.expressions)\n    };\n};\nfunction createElement(strings, values) {\n    var expressionsMap = new Map();\n    var html = values.reduce(function (html, value, i) {\n        var marker = \"__\" + i + \"__\";\n        expressionsMap.set(marker, value);\n        html += marker + strings[i + 1];\n        return html;\n    }, strings[0]);\n    return parseTemplate(html, expressionsMap);\n}\nexports.createElement = createElement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _a, _b;\n\"use strict\";\nvar parser_1 = require(\"./parser\");\nvar utils_1 = require(\"./utils\");\nvar TemplateSymbol = Symbol();\nfunction isTemplateEqual(t1, t2) {\n    return (isTemplate(t1) &&\n        t1.constructor === t2.constructor &&\n        ((!t1.strings && !t2.strings) ||\n            (t1.strings.length &&\n                t2.strings.length &&\n                t1.strings.every(function (s, i) { return t2.strings[i] === s; }))));\n}\nexports.isTemplateEqual = isTemplateEqual;\nfunction isTemplate(obj) {\n    return obj && obj[TemplateSymbol];\n}\nexports.isTemplate = isTemplate;\nvar Template = (function () {\n    function Template(strings, values) {\n        this[_a] = true;\n        this.content = [];\n        this.expressions = [];\n        this.key = undefined;\n        this.values = values;\n        this.strings = strings;\n    }\n    Template.prototype.withKey = function (key) {\n        this.key = key;\n        return this;\n    };\n    Template.prototype.update = function (values, force) {\n        for (var i = 0; i < values.length; i++) {\n            if (this.expressions[i] !== undefined)\n                this.expressions[i].update(values[i], force);\n        }\n    };\n    Template.prototype.create = function () {\n        var _a = parser_1.createElement(this.strings, this.values), fragment = _a.fragment, expressions = _a.expressions;\n        this.expressions = expressions;\n        this.update(this.values, true);\n        this.content = [].slice.call(fragment.childNodes);\n        return fragment;\n    };\n    return Template;\n}());\n_a = TemplateSymbol;\nexports.Template = Template;\nvar TemplateCollection = (function () {\n    function TemplateCollection(values) {\n        this[_b] = true;\n        this.values = values;\n        this.templates = new Map();\n    }\n    TemplateCollection.prototype._flushTemplates = function (keys) {\n        this.templates.forEach(function (template, key, map) {\n            if (keys.indexOf(key) === -1) {\n                utils_1.removeNodes(template.content);\n                map.delete(key);\n            }\n        });\n    };\n    Object.defineProperty(TemplateCollection.prototype, \"content\", {\n        get: function () {\n            var _a = this, templates = _a.templates, rootNode = _a.rootNode;\n            var nodes = [rootNode];\n            templates.forEach(function (template) {\n                return nodes.push.apply(nodes, template.content);\n            });\n            return nodes;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TemplateCollection.prototype.update = function (items) {\n        var _a = this, rootNode = _a.rootNode, templates = _a.templates;\n        var currentNode = rootNode;\n        var keys = items.reduce(function (keys, item, i) {\n            var key = String(item.key || i);\n            var template = templates.get(key);\n            if (!template) {\n                var node = item.create();\n                currentNode.nextSibling\n                    ? utils_1.insertBefore(node, currentNode.nextSibling)\n                    : currentNode.parentNode.appendChild(node);\n                templates.set(key, (template = item));\n            }\n            else if (!isTemplateEqual(template, item)) {\n                utils_1.replaceContent(template.content, item.create());\n                templates.set(key, (template = item));\n            }\n            else {\n                template.update(item.values);\n            }\n            if (currentNode.nextSibling !== template.content[0]) {\n                utils_1.moveTemplate(template, currentNode);\n            }\n            currentNode = template.content[template.content.length - 1];\n            keys.push(key);\n            return keys;\n        }, []);\n        this._flushTemplates(keys);\n    };\n    TemplateCollection.prototype.create = function () {\n        var fragment = document.createDocumentFragment();\n        fragment.appendChild((this.rootNode = document.createTextNode('')));\n        this.update(this.values);\n        return fragment;\n    };\n    return TemplateCollection;\n}());\n_b = TemplateSymbol;\nexports.TemplateCollection = TemplateCollection;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar template_1 = require(\"./template\");\nexports.Template = template_1.Template;\nexports.TemplateCollection = template_1.TemplateCollection;\nvar template_2 = require(\"./template\");\nfunction render(template, container) {\n    if (!render.instances.has(container)) {\n        render.instances.set(container, template);\n        container.appendChild(template.create());\n    }\n    else {\n        render.instances.get(container).update(template.values);\n    }\n}\nexports.render = render;\nrender.instances = new WeakMap();\nfunction html(strings) {\n    var values = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        values[_i - 1] = arguments[_i];\n    }\n    return new template_2.Template(strings, values);\n}\nexports.html = html;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction defineProps(constructor) {\n    if (!constructor.__attrsMap) {\n        var props_1 = constructor.properties;\n        var attrsMap = Object.create(null);\n        if (props_1) {\n            var _loop_1 = function (name_1) {\n                attrsMap[name_1.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase()] = name_1;\n                Object.defineProperty(constructor.prototype, name_1, {\n                    get: function () {\n                        return this.__props[name_1];\n                    },\n                    set: function (newValue) {\n                        var oldValue = this.__props[name_1];\n                        this.__props[name_1] = props_1[name_1](newValue);\n                        this.rendered &&\n                            oldValue !== newValue &&\n                            !this.update._scheduled &&\n                            this.update();\n                    }\n                });\n            };\n            for (var name_1 in props_1) {\n                _loop_1(name_1);\n            }\n        }\n        constructor.__attrsMap = attrsMap;\n        constructor.__observedProps = Object.keys(attrsMap);\n    }\n    return constructor.__observedProps;\n}\nfunction withProps(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.__props = Object.create(null);\n            return _this;\n        }\n        Object.defineProperty(class_1, \"observedAttributes\", {\n            get: function () {\n                return defineProps(this);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        class_1.prototype.attributeChangedCallback = function (name, _, newValue) {\n            this[this.constructor.__attrsMap[name]] = newValue;\n        };\n        return class_1;\n    }(Base));\n}\nexports.withProps = withProps;\n","export function isNode(obj) {\n    return !!obj && !!obj.ownerDocument;\n}\nexport function replaceContent(content, node) {\n    insertBefore(node, content[0]);\n    removeNodes(content);\n    return node;\n}\nexport function removeNodes(nodes) {\n    const range = document.createRange();\n    range.setStartBefore(nodes[0]);\n    range.setEndAfter(nodes[nodes.length - 1]);\n    range.deleteContents();\n}\nexport function insertBefore(node, before) {\n    before.parentNode.insertBefore(node, before);\n}\nexport function moveTemplate(template, node) {\n    let currentNode = node;\n    template.content.forEach(node => {\n        currentNode.parentNode.insertBefore(node, currentNode.nextSibling);\n        currentNode = node;\n    });\n}\nexport function getNodeIndex(node) {\n    let index = 0;\n    while ((node = node.previousSibling))\n        index++;\n    return index;\n}\nexport function getNodePath(node) {\n    const path = [];\n    while (node.parentNode) {\n        path.unshift(getNodeIndex(node));\n        node = node.parentNode;\n    }\n    return path;\n}\nexport function getNodeByPath(node, path) {\n    for (let i = 0, l = path.length; i < l; i++)\n        node = node.childNodes[path[i]];\n    return node;\n}\n","import { TemplateCollection, isTemplate, isTemplateEqual } from './template';\nimport { isNode, replaceContent } from './utils';\nexport class AttributeExpression {\n    constructor(element, name) {\n        this.name = name;\n        this.element = element;\n    }\n    update(value, force) {\n        const { name, element, value: currentValue } = this;\n        if (!force && currentValue === value) {\n            return;\n        }\n        if (name in element) {\n            element[name] = value;\n        }\n        else if (value != null) {\n            element.setAttribute(name, value);\n        }\n        if (value == null && element.hasAttribute(name)) {\n            element.removeAttribute(name);\n        }\n        this.value = value;\n    }\n}\nexport class NodeExpression {\n    constructor(element) {\n        this.element = element;\n        this.value = undefined;\n    }\n    update(value, force) {\n        const { element } = this;\n        if (value === undefined || value === null) {\n            value = document.createTextNode('');\n        }\n        else if (!force && value === this.value) {\n            return;\n        }\n        if (Array.isArray(value))\n            value = new TemplateCollection(value);\n        if (!isNode(value) && !isTemplate(value) && !isTemplate(element)) {\n            element.nodeValue = value;\n        }\n        else if (isTemplateEqual(element, value)) {\n            element.update(value.values);\n        }\n        else {\n            replaceContent(isTemplate(element)\n                ? element.content\n                : [element], isTemplate(value)\n                ? value.create()\n                : isNode(value)\n                    ? value\n                    : (value = document.createTextNode(value)));\n            this.element = value;\n        }\n        this.value = value;\n    }\n}\n","import { AttributeExpression, NodeExpression } from './expressions';\nimport { insertBefore, getNodePath, getNodeByPath } from './utils';\nfunction markerNumber(marker) {\n    return Number(marker.replace(/\\D+/g, ''));\n}\nfunction treeWalkerFilter(node) {\n    return node.__skip\n        ? (delete node.__skip, NodeFilter.FILTER_SKIP)\n        : NodeFilter.FILTER_ACCEPT;\n}\ntreeWalkerFilter.acceptNode = treeWalkerFilter;\nexport function linkAttributes(element, expressions, linkedExpressions) {\n    const attrs = element.attributes;\n    let i = attrs.length;\n    while (i--) {\n        const { name, value } = attrs.item(i);\n        if (expressions.has(value)) {\n            element.removeAttribute(name);\n            linkedExpressions[markerNumber(value)] = {\n                type: AttributeExpression,\n                name,\n                nodePath: getNodePath(element)\n            };\n        }\n    }\n}\nexport function linkTexts(node, linkedExpressions) {\n    const keys = node.data.match(/__\\d+__/g) || [];\n    keys.forEach((key) => {\n        const keyNode = node.ownerDocument.createTextNode('');\n        keyNode.__skip = true;\n        node = node.splitText(node.data.indexOf(key));\n        node.deleteData(0, key.length);\n        insertBefore(keyNode, node);\n        linkedExpressions[markerNumber(key)] = {\n            type: NodeExpression,\n            name,\n            nodePath: getNodePath(keyNode)\n        };\n    });\n}\nexport function linkExpressions(root, expressions) {\n    const treeWalker = document.createTreeWalker(root, NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT, treeWalkerFilter, false);\n    const linkedExpressions = Array(expressions.size);\n    while (treeWalker.nextNode()) {\n        const node = treeWalker.currentNode;\n        if (node.nodeType === Node.TEXT_NODE)\n            linkTexts(node, linkedExpressions);\n        else if (node.nodeType === Node.ELEMENT_NODE)\n            linkAttributes(node, expressions, linkedExpressions);\n    }\n    return linkedExpressions;\n}\nexport function resolve(fragment, symbols) {\n    return symbols.map(symbol => new symbol.type(getNodeByPath(fragment, symbol.nodePath), symbol.name));\n}\n","import { linkExpressions, resolve } from './linker';\nconst TemplateCache = new Map();\nfunction createCacheEntry(html, expressionsMap) {\n    const template = document.createElement('template');\n    template.innerHTML = html;\n    return {\n        template,\n        expressions: linkExpressions(template.content, expressionsMap)\n    };\n}\nconst parseTemplate = (html, expressionsMap) => {\n    if (!TemplateCache.has(html))\n        TemplateCache.set(html, createCacheEntry(html, expressionsMap));\n    const cacheEntry = TemplateCache.get(html);\n    const fragment = document.importNode(cacheEntry.template.content, true);\n    return {\n        fragment,\n        expressions: resolve(fragment, cacheEntry.expressions)\n    };\n};\nexport function createElement(strings, values) {\n    const expressionsMap = new Map();\n    const html = values.reduce((html, value, i) => {\n        const marker = `__${i}__`;\n        expressionsMap.set(marker, value);\n        html += marker + strings[i + 1];\n        return html;\n    }, strings[0]);\n    return parseTemplate(html, expressionsMap);\n}\n","var _a, _b;\nimport { createElement } from './parser';\nimport { insertBefore, replaceContent, removeNodes, moveTemplate } from './utils';\nconst TemplateSymbol = Symbol();\nexport function isTemplateEqual(t1, t2) {\n    return (isTemplate(t1) &&\n        t1.constructor === t2.constructor &&\n        ((!t1.strings && !t2.strings) ||\n            (t1.strings.length &&\n                t2.strings.length &&\n                t1.strings.every((s, i) => t2.strings[i] === s))));\n}\nexport function isTemplate(obj) {\n    return obj && obj[TemplateSymbol];\n}\nexport class Template {\n    constructor(strings, values) {\n        this[_a] = true;\n        this.content = [];\n        this.expressions = [];\n        this.key = undefined;\n        this.values = values;\n        this.strings = strings;\n    }\n    withKey(key) {\n        this.key = key;\n        return this;\n    }\n    update(values, force) {\n        for (let i = 0; i < values.length; i++) {\n            if (this.expressions[i] !== undefined)\n                this.expressions[i].update(values[i], force);\n        }\n    }\n    create() {\n        const { fragment, expressions } = createElement(this.strings, this.values);\n        this.expressions = expressions;\n        this.update(this.values, true);\n        this.content = [].slice.call(fragment.childNodes);\n        return fragment;\n    }\n}\n_a = TemplateSymbol;\nexport class TemplateCollection {\n    constructor(values) {\n        this[_b] = true;\n        this.values = values;\n        this.templates = new Map();\n    }\n    _flushTemplates(keys) {\n        this.templates.forEach((template, key, map) => {\n            if (keys.indexOf(key) === -1) {\n                removeNodes(template.content);\n                map.delete(key);\n            }\n        });\n    }\n    get content() {\n        const { templates, rootNode } = this;\n        const nodes = [rootNode];\n        templates.forEach((template) => nodes.push(...template.content));\n        return nodes;\n    }\n    update(items) {\n        const { rootNode, templates } = this;\n        let currentNode = rootNode;\n        const keys = items.reduce((keys, item, i) => {\n            const key = String(item.key || i);\n            let template = templates.get(key);\n            if (!template) {\n                const node = item.create();\n                currentNode.nextSibling\n                    ? insertBefore(node, currentNode.nextSibling)\n                    : currentNode.parentNode.appendChild(node);\n                templates.set(key, (template = item));\n            }\n            else if (!isTemplateEqual(template, item)) {\n                replaceContent(template.content, item.create());\n                templates.set(key, (template = item));\n            }\n            else {\n                template.update(item.values);\n            }\n            if (currentNode.nextSibling !== template.content[0]) {\n                moveTemplate(template, currentNode);\n            }\n            currentNode = template.content[template.content.length - 1];\n            keys.push(key);\n            return keys;\n        }, []);\n        this._flushTemplates(keys);\n    }\n    create() {\n        const fragment = document.createDocumentFragment();\n        fragment.appendChild((this.rootNode = document.createTextNode('')));\n        this.update(this.values);\n        return fragment;\n    }\n}\n_b = TemplateSymbol;\n","export { Template, TemplateCollection } from './template';\nimport { Template } from './template';\nexport function render(template, container) {\n    if (!render.instances.has(container)) {\n        render.instances.set(container, template);\n        container.appendChild(template.create());\n    }\n    else {\n        render.instances.get(container).update(template.values);\n    }\n}\nrender.instances = new WeakMap();\nexport function html(strings, ...values) {\n    return new Template(strings, values);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar requestIdleCallback = window.requestIdleCallback ||\n    function (handler) {\n        var start = Date.now();\n        return setTimeout(function () {\n            return handler({\n                didTimeout: false,\n                timeRemaining: function () {\n                    return Math.max(0, 50 - (Date.now() - start));\n                },\n            });\n        }, 1);\n    };\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.tasks = [];\n        this.running = false;\n        this.process = function (deadline) {\n            var tasks = _this.tasks;\n            while ((deadline.timeRemaining() > 0 || deadline.didTimeout) &&\n                tasks.length > 0) {\n                var fn = tasks.shift();\n                fn._scheduled = false;\n                fn();\n            }\n            if (tasks.length > 0) {\n                _this.start();\n            }\n            else {\n                _this.running = false;\n            }\n        };\n    }\n    Scheduler.prototype.start = function () {\n        requestIdleCallback(this.process, {\n            timeout: 50,\n        });\n        this.running = true;\n    };\n    Scheduler.prototype.defer = function (fn) {\n        var _this = this;\n        return function () {\n            if (fn._scheduled === undefined) {\n                fn._scheduled = false;\n                fn();\n            }\n            else if (!fn._scheduled) {\n                _this.tasks.push(fn);\n                fn._scheduled = true;\n                fn._priority = 0;\n            }\n            else {\n                fn._priority++;\n                _this.tasks.sort(function (a, b) { return b._priority - a._priority; });\n            }\n            if (_this.tasks.length && !_this.running) {\n                _this.start();\n            }\n        };\n    };\n    return Scheduler;\n}());\nexports.Scheduler = Scheduler;\nexports.default = new Scheduler();\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@tiny-lit/core\");\nvar Scheduler_1 = require(\"./Scheduler\");\nfunction withElement(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.state = {};\n            _this.rendered = false;\n            _this.renderCallbacks = [];\n            _this.update = _this.scheduler.defer(function () {\n                _this.rendered = true;\n                var template = _this.render();\n                template && core_1.render(template, _this);\n                while (_this.renderCallbacks.length)\n                    _this.renderCallbacks.shift()();\n            });\n            return _this;\n        }\n        Object.defineProperty(class_1.prototype, \"scheduler\", {\n            get: function () {\n                return Scheduler_1.default;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        class_1.prototype.connectedCallback = function () {\n            this.update();\n        };\n        class_1.prototype.setState = function (nextState, callback) {\n            var state = this.state;\n            this.state = __assign({}, state, (typeof nextState === 'function'\n                ? nextState(state, this)\n                : nextState));\n            callback && this.renderCallbacks.push(callback);\n            this.update();\n        };\n        class_1.prototype.render = function () {\n            return null;\n        };\n        return class_1;\n    }(Base));\n}\nexports.withElement = withElement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar withProps_1 = require(\"./withProps\");\nvar withElement_1 = require(\"./withElement\");\nexports.Element = withProps_1.withProps(withElement_1.withElement(HTMLElement));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Element_1 = require(\"./Element\");\nexports.Element = Element_1.Element;\nvar withProps_1 = require(\"./withProps\");\nexports.withProps = withProps_1.withProps;\nvar withElement_1 = require(\"./withElement\");\nexports.withElement = withElement_1.withElement;\n","import { html } from '@tiny-lit/core/lib/cjs';\n\nexport default html`\n<style>\n    button {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        background: none;\n        font-size: 100%;\n        vertical-align: baseline;\n        font-family: inherit;\n        font-weight: inherit;\n        color: inherit;\n        -webkit-appearance: none;\n        appearance: none;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n\n    .todoapp {\n        font: 14px 'Helvetica Neue', Helvetica, Arial, sans-serif;\n        line-height: 1.4em;\n        background: #f5f5f5;\n        color: #4d4d4d;\n        min-width: 230px;\n        max-width: 550px;\n        margin: 0 auto;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        font-weight: 300;\n    }\n\n    :focus {\n        outline: 0;\n    }\n\n    .hidden {\n        display: none;\n    }\n\n    .todoapp {\n        background: #fff;\n        margin: 130px auto;\n        position: relative;\n        box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2),\n                    0 25px 50px 0 rgba(0, 0, 0, 0.1);\n    }\n\n    .todoapp input::-webkit-input-placeholder {\n        font-style: italic;\n        font-weight: 300;\n        color: #e6e6e6;\n    }\n\n    .todoapp input::-moz-placeholder {\n        font-style: italic;\n        font-weight: 300;\n        color: #e6e6e6;\n    }\n\n    .todoapp input::input-placeholder {\n        font-style: italic;\n        font-weight: 300;\n        color: #e6e6e6;\n    }\n\n    .todoapp h1 {\n        position: absolute;\n        top: -155px;\n        width: 100%;\n        font-size: 100px;\n        font-weight: 100;\n        text-align: center;\n        color: rgba(175, 47, 47, 0.15);\n        -webkit-text-rendering: optimizeLegibility;\n        -moz-text-rendering: optimizeLegibility;\n        text-rendering: optimizeLegibility;\n    }\n\n    .new-todo,\n    .edit {\n        position: relative;\n        margin: 0;\n        width: 100%;\n        font-size: 24px;\n        font-family: inherit;\n        font-weight: inherit;\n        line-height: 1.4em;\n        border: 0;\n        color: inherit;\n        padding: 6px;\n        border: 1px solid #999;\n        box-shadow: inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);\n        box-sizing: border-box;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n\n    .new-todo {\n        padding: 16px 16px 16px 60px;\n        border: none;\n        background: rgba(0, 0, 0, 0.003);\n        box-shadow: inset 0 -2px 1px rgba(0,0,0,0.03);\n    }\n\n    .main {\n        position: relative;\n        z-index: 2;\n        border-top: 1px solid #e6e6e6;\n    }\n\n    .toggle-all {\n        text-align: center;\n        border: none; /* Mobile Safari */\n        opacity: 0;\n        position: absolute;\n    }\n\n    .toggle-all + label {\n        width: 60px;\n        height: 34px;\n        font-size: 0;\n        position: absolute;\n        top: -52px;\n        left: -13px;\n        -webkit-transform: rotate(90deg);\n        transform: rotate(90deg);\n    }\n\n    .toggle-all + label:before {\n        content: '❯';\n        font-size: 22px;\n        color: #e6e6e6;\n        padding: 10px 27px 10px 27px;\n    }\n\n    .toggle-all:checked + label:before {\n        color: #737373;\n    }\n\n    .todo-list {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n    }\n\n    .todo-list li {\n        position: relative;\n        font-size: 24px;\n        border-bottom: 1px solid #ededed;\n    }\n\n    .todo-list li:last-child {\n        border-bottom: none;\n    }\n\n    .todo-list li.editing {\n        border-bottom: none;\n        padding: 0;\n    }\n\n    .todo-list li.editing .edit {\n        display: block;\n        width: 506px;\n        padding: 12px 16px;\n        margin: 0 0 0 43px;\n    }\n\n    .todo-list li.editing .view {\n        display: none;\n    }\n\n    .todo-list li .toggle {\n        text-align: center;\n        width: 40px;\n        /* auto, since non-WebKit browsers doesn't support input styling */\n        height: auto;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        margin: auto 0;\n        border: none; /* Mobile Safari */\n        -webkit-appearance: none;\n        appearance: none;\n    }\n\n    .todo-list li .toggle {\n        opacity: 0;\n    }\n\n    .todo-list li .toggle + label {\n        /*\n            Firefox requires '#' to be escaped - https://bugzilla.mozilla.org/show_bug.cgi?id=922433\n            IE and Edge requires *everything* to be escaped to render, so we do that instead of just the '#' - https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/7157459/\n        */\n        background-image: url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23ededed%22%20stroke-width%3D%223%22/%3E%3C/svg%3E');\n        background-repeat: no-repeat;\n        background-position: center left;\n    }\n\n    .todo-list li .toggle:checked + label {\n        background-image: url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23bddad5%22%20stroke-width%3D%223%22/%3E%3Cpath%20fill%3D%22%235dc2af%22%20d%3D%22M72%2025L42%2071%2027%2056l-4%204%2020%2020%2034-52z%22/%3E%3C/svg%3E');\n    }\n\n    .todo-list li label {\n        word-break: break-all;\n        padding: 15px 15px 15px 60px;\n        display: block;\n        line-height: 1.2;\n        transition: color 0.4s;\n    }\n\n    .todo-list li.completed label {\n        color: #d9d9d9;\n        text-decoration: line-through;\n    }\n\n    .todo-list li .destroy {\n        display: none;\n        position: absolute;\n        top: 0;\n        right: 10px;\n        bottom: 0;\n        width: 40px;\n        height: 40px;\n        margin: auto 0;\n        font-size: 30px;\n        color: #cc9a9a;\n        margin-bottom: 11px;\n        transition: color 0.2s ease-out;\n    }\n\n    .todo-list li .destroy:hover {\n        color: #af5b5e;\n    }\n\n    .todo-list li .destroy:after {\n        content: '×';\n    }\n\n    .todo-list li:hover .destroy {\n        display: block;\n    }\n\n    .todo-list li .edit {\n        display: none;\n    }\n\n    .todo-list li.editing:last-child {\n        margin-bottom: -1px;\n    }\n\n    .footer {\n        color: #777;\n        padding: 10px 15px;\n        height: 20px;\n        text-align: center;\n        border-top: 1px solid #e6e6e6;\n    }\n\n    .footer:before {\n        content: '';\n        position: absolute;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        height: 50px;\n        overflow: hidden;\n        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2),\n                    0 8px 0 -3px #f6f6f6,\n                    0 9px 1px -3px rgba(0, 0, 0, 0.2),\n                    0 16px 0 -6px #f6f6f6,\n                    0 17px 2px -6px rgba(0, 0, 0, 0.2);\n    }\n\n    .todo-count {\n        float: left;\n        text-align: left;\n    }\n\n    .todo-count strong {\n        font-weight: 300;\n    }\n\n    .filters {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n        position: absolute;\n        right: 0;\n        left: 0;\n    }\n\n    .filters li {\n        display: inline;\n    }\n\n    .filters li a {\n        color: inherit;\n        margin: 3px;\n        padding: 3px 7px;\n        text-decoration: none;\n        border: 1px solid transparent;\n        border-radius: 3px;\n    }\n\n    .filters li a:hover {\n        border-color: rgba(175, 47, 47, 0.1);\n    }\n\n    .filters li a.selected {\n        border-color: rgba(175, 47, 47, 0.2);\n    }\n\n    .clear-completed,\n    html .clear-completed:active {\n        float: right;\n        position: relative;\n        line-height: 20px;\n        text-decoration: none;\n        cursor: pointer;\n    }\n\n    .clear-completed:hover {\n        text-decoration: underline;\n    }\n\n    .shuffle {\n        margin-right: 5px;\n    }\n\n    .info {\n        margin: 65px auto 0;\n        color: #bfbfbf;\n        font-size: 10px;\n        text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);\n        text-align: center;\n    }\n\n    .info p {\n        line-height: 1;\n    }\n\n    .info a {\n        color: inherit;\n        text-decoration: none;\n        font-weight: 400;\n    }\n\n    .info a:hover {\n        text-decoration: underline;\n    }\n\n    /*\n        Hack to remove background from Mobile Safari.\n        Can't use it globally since it destroys checkboxes in Firefox\n    */\n    @media screen and (-webkit-min-device-pixel-ratio:0) {\n        .toggle-all,\n        .todo-list li .toggle {\n            background: none;\n        }\n\n        .todo-list li .toggle {\n            height: 40px;\n        }\n    }\n\n    @media (max-width: 430px) {\n        .footer {\n            height: 50px;\n        }\n\n        .filters {\n            bottom: 10px;\n        }\n    }\n</style>\n`;\n","import { html } from '@tiny-lit/core/lib/cjs';\nimport { Element } from '@tiny-lit/element/lib/cjs';\nimport style from './style.js';\n\nfunction prevented(f) {\n    return e => {\n        e.stopPropagation();\n        e.preventDefault();\n        f(e);\n    };\n}\n\nfunction loadStorage(defaultValue) {\n    const s = localStorage.getItem('todoMvc');\n    return s ? JSON.parse(s) : defaultValue;\n}\n\nfunction saveStorage(value) {\n    window.requestAnimationFrame(() =>\n        localStorage.setItem('todoMvc', JSON.stringify(value))\n    );\n}\n\nfunction shuffle(array) {\n    let counter = array.length;\n\n    // While there are elements in the array\n    while (counter > 0) {\n        // Pick a random index\n        let index = Math.floor(Math.random() * counter);\n\n        // Decrease counter by 1\n        counter--;\n\n        // And swap the last element with it\n        let temp = array[counter];\n        array[counter] = array[index];\n        array[index] = temp;\n    }\n\n    return array;\n}\n\nclass TodoMVC extends Element {\n    constructor() {\n        super();\n        this.state = loadStorage({\n            todos: [],\n            filter: null,\n        });\n    }\n\n    static get is() {\n        return 'todo-mvc';\n    }\n\n    setState(nextState) {\n        super.setState(nextState);\n        saveStorage(this.state);\n    }\n\n    setFilter(completed) {\n        this.setState({ filter: completed });\n    }\n\n    handleAddTodo(e) {\n        this.setState({\n            todos: [\n                ...this.state.todos,\n                {\n                    text: e.target.elements[0].value,\n                    completed: false,\n                    id: Math.random()\n                        .toString()\n                        .substr(2),\n                },\n            ],\n        });\n        e.target.reset();\n    }\n\n    handleDeleteTodo(remove) {\n        this.setState({\n            todos: [...this.state.todos.filter(todo => todo !== remove)],\n        });\n    }\n\n    switchCompleted(index) {\n        return prevented(() => {\n            const todos = this.state.todos;\n\n            todos[index].completed = !todos[index].completed;\n            this.setState({\n                todos: [...todos],\n            });\n        });\n    }\n\n    handleClearCompleted() {\n        this.setState({\n            todos: [...this.state.todos.filter(todo => !todo.completed)],\n        });\n    }\n\n    connectedCallback() {\n        const rendered = this.rendered;\n\n        if (!rendered) console.time('render');\n        this.update();\n        if (!rendered) console.timeEnd('render');\n    }\n\n    render() {\n        const { filter, todos } = this.state;\n\n        return html`\n            ${style}\n            <section class=\"todoapp body\">\n                <header class=\"header\">\n                    <h1>todos</h1>\n                    <form onSubmit=${prevented(e => this.handleAddTodo(e))}>\n                        <input\n                            class=\"new-todo\"\n                            placeholder=\"What needs to be done?\"\n                            autofocus\n                        />\n                    </form>\n                </header>\n                <!-- This section should be hidden by default and shown when there are todos -->\n                <section class=\"main\">\n                    <input id=\"toggle-all\" class=\"toggle-all\" type=\"checkbox\" />\n                    <label for=\"toggle-all\">Mark all as complete</label>\n                    <ul class=\"todo-list\">\n                        <!-- These are here just to show the structure of the list items -->\n                        <!-- List items should get the class \\`editing\\` when editing and \\`completed\\` when marked as completed -->\n                        ${todos\n                                .map(\n                                    (todo, index) => (\n                                        (todo.index = index), todo\n                                    )\n                                )\n                                .filter(\n                                    todo =>\n                                        filter === null ||\n                                        todo.completed === filter\n                                ).map(\n                            todo =>\n                                html`\n                            <li class=${todo.completed ? 'completed' : ''}>\n                                <div\n                                    class=\"view\"\n                                >\n                                    <input\n                                        class=\"toggle\"\n                                        type=\"checkbox\"\n                                        checked=${todo.completed}\n                                        onClick=${this.switchCompleted(todo.index)}\n                                    />\n                                    <label onClick=${this.switchCompleted(todo.index)}>${todo.text}</label>\n                                    <button class=\"destroy\" onClick=${prevented(\n                                        () => this.handleDeleteTodo(todo)\n                                    )}></button>\n                                </div>\n                                <input class=\"edit\" value=${todo.text} />\n                            </li>\n                        `.withKey(todo.id)\n                        )}\n                    </ul>\n                </section>\n                <!-- This footer should hidden by default and shown when there are todos -->\n                <footer class=\"footer\">\n                    <!-- This should be \\`0 items left\\` by default -->\n                    <span class=\"todo-count\">\n                        <strong>${todos.filter(todo => !todo.completed).length}\n                        </strong> item left\n                    </span>\n\n                    <ul class=\"filters\">\n                        <li>\n                            <a\n                                class=${filter === null && 'selected'}\n                                href=\"#/\"\n                                onClick=${prevented(() => this.setFilter(null))}\n                            >\n                                All\n                            </a>\n                        </li>\n                        <li>\n                            <a\n                                class=${filter === false && 'selected'}\n                                href=\"#/active\"\n                                onClick=${prevented(() =>\n                                    this.setFilter(false)\n                                )}\n                            >\n                                Active\n                            </a>\n                        </li>\n                        <li>\n                            <a\n                                class=${filter && 'selected'}\n                                href=\"#/completed\"\n                                onClick=${prevented(() => this.setFilter(true))}\n                            >\n                                Completed\n                            </a>\n                        </li>\n                    </ul>\n                    <!-- Hidden if no completed items are left ↓ -->\n                    <button class=\"clear-completed\" onClick=${prevented(() =>\n                        this.handleClearCompleted()\n                    )}>Clear completed</button>\n                    <button class=\"clear-completed shuffle\" onClick=${prevented(\n                        () =>\n                            this.setState({ todos: shuffle(this.state.todos) })\n                    )}>Shuffle</button>\n                </footer>\n            </section>\n            <footer class=\"info\">\n                <p>Double-click to edit a todo</p>\n                <!-- Change this out with your name and url ↓ -->\n                <p>Created by <a href=\"http://todomvc.com\">you</a></p>\n                <p>Part of <a href=\"http://todomvc.com\">TodoMVC</a></p>\n            </footer>\n        `;\n    }\n}\n\ncustomElements.define(TodoMVC.is, TodoMVC);\n","import { html } from '@tiny-lit/core/lib/cjs';\nimport { Element } from '@tiny-lit/element/lib/cjs';\n\nconst targetSize = 25;\n\nfunction rafInterval(fn) {\n    let running = true;\n\n    function run() {\n        fn();\n        running && requestAnimationFrame(run);\n    }\n\n    requestAnimationFrame(run);\n\n    return () => (running = false);\n}\n\nclass KarpinskyDot extends Element {\n    static get is() {\n        return 'karpinsky-dot';\n    }\n\n    static get properties() {\n        return {\n            x: Number,\n            y: Number,\n            size: Number,\n            text: String,\n            hover: Boolean,\n        };\n    }\n\n    x = 0;\n    y = 0;\n    size = 0;\n    text = '';\n    hover = false;\n\n    constructor() {\n        super();\n\n        // this.addEventListener('mouseover', () => this.setState({ hover: true }));\n        // this.addEventListener('mouseleave', () => this.setState({ hover: false }));\n        this.addEventListener('mouseover', () => (this.hover = true));\n        this.addEventListener('mouseleave', () => (this.hover = false));\n    }\n\n    getStyle() {\n        const { x, y, size } = this;\n        const hover = this.hover;\n        const s = size * 1.3;\n\n        return `\n            position: absolute;\n            font: normal 15px sans-serif;\n            text-align: center;\n            cursor: pointer;\n            width: ${s}px;\n            height: ${s}px;\n            left: ${x}px;\n            top: ${y}px;\n            border-radius: ${s / 2}px;\n            line-height: ${s}px;\n            background: ${hover ? '#ff0' : '#61dafb'};\n        `;\n    }\n\n    render() {\n        const { hover, text } = this;\n\n        return html`<span style=${this.getStyle()}>\n                        ${hover ? '**' + text + '**' : text}\n                    </span>`;\n    }\n}\n\nclass KarpinskyTriangle extends Element {\n    static get is() {\n        return 'karpinsky-triangle';\n    }\n\n    static get properties() {\n        return {\n            x: Number,\n            y: Number,\n            s: Number,\n            seconds: Number,\n        };\n    }\n    x = 0;\n    y = 0;\n    s = 0;\n    seconds = 0;\n\n    render() {\n        let { s, seconds, x, y } = this;\n\n        if (s <= targetSize) {\n            return html`\n                <karpinsky-dot x=${x - targetSize / 2} y=${y -\n                targetSize / 2} size=${targetSize} text=${seconds} />\n            `;\n        }\n\n        s = s / 2;\n\n        let slowDown = true;\n        if (slowDown) {\n            let e = performance.now() + 0.8;\n            while (performance.now() < e) {\n                // Artificially long execution time.\n            }\n        }\n\n        return html`\n            <karpinsky-triangle x=${x} y=${y -\n            s / 2} s=${s} seconds=${seconds}></karpinsky-triangle>\n            <karpinsky-triangle x=${x - s} y=${y +\n            s / 2} s=${s} seconds=${seconds}></karpinsky-triangle>\n            <karpinsky-triangle x=${x + s} y=${y +\n            s / 2} s=${s} seconds=${seconds}></karpinsky-triangle>\n        `;\n    }\n}\n\nclass KarpinskyDemo extends Element {\n    static get is() {\n        return 'karpinsky-demo';\n    }\n\n    connectedCallback() {\n        const rendered = this.rendered;\n\n        if (!rendered) console.time('render');\n\n        this.start = Date.now();\n        this.timerInterval = setInterval(this.tick.bind(this), 1000);\n        this.renderInterval = rafInterval(this.update);\n        this.setState({\n            seconds: 0,\n        });\n\n        if (!rendered) console.timeEnd('render');\n    }\n\n    disconnectedCallback() {\n        this.renderInterval();\n        clearInterval(this.timerInterval);\n    }\n\n    tick() {\n        this.setState({\n            seconds: (this.state.seconds % 10) + 1,\n        });\n    }\n\n    getStyle() {\n        const elapsed = Date.now() - this.start;\n        const t = (elapsed / 1000) % 10;\n        const scale = 1 + (t > 5 ? 10 - t : t) / 10;\n\n        return `\n            position: absolute;\n            transform-origin: 0 0;\n            width: 10px;\n            height: 10px;\n            left: 50%;\n            top: 50%;\n            background: #eee;\n            transform: scaleX(${scale / 2.1}) scaleY(0.7) translateZ(0.1px) translateX(50%)\n        `;\n    }\n\n    render() {\n        const { seconds } = this.state;\n\n        return html`\n            <div style=${this.getStyle()}>\n                <karpinsky-triangle x=${0} y=${0} s=${1000} seconds=${seconds} />\n            </div>\n        `;\n    }\n}\n\ncustomElements.define(KarpinskyTriangle.is, KarpinskyTriangle);\ncustomElements.define(KarpinskyDot.is, KarpinskyDot);\ncustomElements.define(KarpinskyDemo.is, KarpinskyDemo);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar StoreEvents;\n(function (StoreEvents) {\n    StoreEvents[\"Request\"] = \"store::request\";\n    StoreEvents[\"Dispatch\"] = \"store::dispatch\";\n    StoreEvents[\"Update\"] = \"store::update\";\n})(StoreEvents = exports.StoreEvents || (exports.StoreEvents = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar types_1 = require(\"./types\");\nfunction normalizeEvent(fn) {\n    return function (event, data) {\n        if (typeof event === 'string')\n            event = { type: event, data: data };\n        return fn(event);\n    };\n}\nexports.normalizeEvent = normalizeEvent;\nfunction requestStore(el) {\n    var event = new CustomEvent(types_1.StoreEvents.Request, { detail: {} });\n    el.dispatchEvent(event);\n    return event.detail.store;\n}\nexports.requestStore = requestStore;\nfunction createUpdateEvent(state, mutation) {\n    return new CustomEvent(types_1.StoreEvents.Update, {\n        detail: {\n            state: state,\n            mutation: mutation,\n        },\n    });\n}\nexports.createUpdateEvent = createUpdateEvent;\nfunction createDispatchEvent(type, data) {\n    return new CustomEvent(types_1.StoreEvents.Dispatch, {\n        detail: {\n            type: type,\n            data: data,\n        },\n    });\n}\nexports.createDispatchEvent = createDispatchEvent;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _a;\n\"use strict\";\nvar events_1 = require(\"./events\");\nvar StateProp = Symbol();\nvar objToMap = function (obj, map) {\n    for (var key in obj)\n        map.set(key, obj[key]);\n};\nvar Store = (function () {\n    function Store(config) {\n        if (config === void 0) { config = {}; }\n        var _this = this;\n        this[_a] = {};\n        this.mutations = new Map();\n        this.actions = new Map();\n        this.listeners = new Set();\n        this.dispatch = events_1.normalizeEvent(function (action) {\n            var actions = _this.actions;\n            if (actions.has(action.type))\n                actions.get(action.type)(_this, action.data);\n        });\n        this.commit = events_1.normalizeEvent(function (mutation) {\n            var mutations = _this.mutations;\n            if (mutations.has(mutation.type)) {\n                _this[StateProp] = mutations.get(mutation.type)(_this.state, mutation.data);\n            }\n            _this.listeners.forEach(function (listener) { return listener(mutation); });\n        });\n        objToMap(config.mutations, this.mutations);\n        objToMap(config.actions, this.actions);\n        this[StateProp] = __assign({}, config.initialState);\n        if (config.plugins)\n            config.plugins.forEach(function (plugin) { return plugin(_this); });\n    }\n    Object.defineProperty(Store.prototype, \"state\", {\n        get: function () {\n            return this[StateProp];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Store.prototype.subscribe = function (callback) {\n        var _this = this;\n        var listeners = this.listeners;\n        var handler = function (mutation) { return callback(_this.state, mutation); };\n        listeners.add(handler);\n        callback(this.state);\n        return function () { return listeners.delete(handler); };\n    };\n    return Store;\n}());\n_a = StateProp;\nexports.Store = Store;\nexports.createStore = function (store) {\n    return new Store(store);\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar types_1 = require(\"./types\");\nvar events_1 = require(\"./events\");\nfunction withStore(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        class_1.prototype.connectedCallback = function () {\n            var _this = this;\n            if (_super.prototype.connectedCallback)\n                _super.prototype.connectedCallback.call(this);\n            var store;\n            if (store = events_1.requestStore(this)) {\n                var handler = function (e) {\n                    return _this.onStateChange(e.detail.state, e.detail.mutation);\n                };\n                store.addEventListener(types_1.StoreEvents.Update, handler, true);\n                this.unsubscribe = store.removeEventListener.bind(this, types_1.StoreEvents.Update, handler, true);\n                this.onStateChange(store.getStore().state);\n            }\n        };\n        class_1.prototype.disconnectedCallback = function () {\n            if (_super.prototype.disconnectedCallback)\n                _super.prototype.disconnectedCallback.call(this);\n            this.unsubscribe();\n        };\n        class_1.prototype.onStoreConnect = function () { };\n        class_1.prototype.onStateChange = function (_, __) { };\n        class_1.prototype.dispatch = function (type, data) {\n            this.dispatchEvent(events_1.createDispatchEvent(type, data));\n        };\n        return class_1;\n    }(Base));\n}\nexports.withStore = withStore;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar types_1 = require(\"./types\");\nvar events_1 = require(\"./events\");\nvar store_1 = require(\"./store\");\nvar StoreProvider = (function (_super) {\n    __extends(StoreProvider, _super);\n    function StoreProvider() {\n        var _this = _super.call(this) || this;\n        _this.store = undefined;\n        _this.listeners = new WeakMap();\n        _this.onStateChange = function (state, mutation) {\n            return _this.dispatchEvent(events_1.createUpdateEvent(state, mutation));\n        };\n        _this.onStoreRequest = function (event) {\n            event.stopPropagation();\n            event.detail.store = _this;\n        };\n        _this.onStoreDispatch = function (event) {\n            _this.getStore().dispatch(event.detail);\n        };\n        _this.addEventListener(types_1.StoreEvents.Request, _this.onStoreRequest, true);\n        _this.addEventListener(types_1.StoreEvents.Dispatch, _this.onStoreDispatch, true);\n        _this.store = store_1.createStore(_this.config);\n        _this.store.subscribe(_this.onStateChange);\n        return _this;\n    }\n    Object.defineProperty(StoreProvider.prototype, \"config\", {\n        get: function () {\n            return {};\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StoreProvider.prototype.getStore = function () {\n        return this.store;\n    };\n    return StoreProvider;\n}(HTMLElement));\nexports.StoreProvider = StoreProvider;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./store\"));\n__export(require(\"./withStore\"));\n__export(require(\"./StoreProvider\"));\n__export(require(\"./types\"));\n","import { StoreProvider, withStore, createStore } from '@tiny-lit/store/lib/cjs';\nimport { html } from '@tiny-lit/core/lib/cjs';\nimport { Element } from '@tiny-lit/element/lib/cjs';\n\nconst JSONObject = value => {\n    if (typeof value !== object) {\n        try {\n            value = JSON.parse(value);\n        } catch (e) {}\n    }\n    return value;\n};\n\nconst Items = [\n    {\n        name: 'Men+s+Tech+Shell+Full-Zip',\n        title: \"Men's Tech Shell Full-Zip\",\n        category: 'mens_outerwear',\n        price: 50.2\n    },\n    {\n        name: 'Anvil+L+S+Crew+Neck+-+Grey',\n        title: 'Anvil L/S Crew Neck - Grey',\n        category: 'mens_outerwear',\n        price: 22.15\n    },\n    {\n        name: 'Green+Flex+Fleece+Zip+Hoodie',\n        title: 'Green Flex Fleece Zip Hoodie',\n        category: 'mens_outerwear',\n        price: 45.65\n    },\n    {\n        name: 'Android+Nylon+Packable+Jacket',\n        title: 'Android Nylon Packable Jacket',\n        category: 'mens_outerwear',\n        price: 33.6\n    },\n    {\n        name: 'YouTube+Ultimate+Hooded+Sweatshirt',\n        title: 'YouTube Ultimate Hooded Sweatshirt',\n        category: 'mens_outerwear',\n        price: 32.35\n    },\n    {\n        name: 'Grey+Heather+Fleece+Zip+Hoodie',\n        title: 'Grey Heather Fleece Zip Hoodie',\n        category: 'mens_outerwear',\n        price: 38.85\n    },\n    {\n        name: 'Vastrm+Hoodie',\n        title: 'Vastrm Hoodie',\n        category: 'mens_outerwear',\n        price: 200.0\n    },\n    {\n        name: 'Recycled+Plastic+Bottle+Hoodie+-+Green',\n        title: 'Recycled Plastic Bottle Hoodie - Green',\n        category: 'mens_outerwear',\n        price: 60.95\n    },\n    {\n        name: 'Rowan+Pullover+Hood',\n        title: 'Rowan Pullover Hood',\n        category: 'mens_outerwear',\n        price: 60.85\n    },\n    {\n        name: 'Men+s+Voyage+Fleece+Jacket',\n        title: \"Men's Voyage Fleece Jacket\",\n        category: 'mens_outerwear',\n        price: 48.0\n    },\n    {\n        name: 'Eco-Jersey+Chrome+Zip+Up+Hoodie',\n        title: 'Eco-Jersey Chrome Zip Up Hoodie',\n        category: 'mens_outerwear',\n        price: 37.75\n    },\n    {\n        name: 'Android+Colorblock+Hooded+Pullover',\n        title: 'Android Colorblock Hooded Pullover',\n        category: 'mens_outerwear',\n        price: 50.2\n    },\n    {\n        name: 'Tri-blend+Full-Zip+Hoodie',\n        title: 'Tri-blend Full-Zip Hoodie',\n        category: 'mens_outerwear',\n        price: 52.2\n    },\n    {\n        name: 'Fleece+Full-Zip+Hoodie',\n        title: 'Fleece Full-Zip Hoodie',\n        category: 'mens_outerwear',\n        price: 45.65\n    },\n    {\n        name: 'Jacquard-Knit+Full-Zip+Fleece',\n        title: 'Jacquard-Knit Full-Zip Fleece',\n        category: 'mens_outerwear',\n        price: 74.9\n    },\n    {\n        name: 'YouTube+Unisex+Flex+Fleece+Zip+Hoodie',\n        title: 'YouTube Unisex Flex Fleece Zip Hoodie',\n        category: 'mens_outerwear',\n        price: 45.25\n    }\n];\n\nconst ElementWithStore = withStore(Element);\n\nclass MyStore extends StoreProvider {\n    static get is() {\n        return 'my-store';\n    }\n\n    get config() {\n        return {\n            initialState: {\n                ...JSON.parse(this.getAttribute('initial-state')),\n                cart: [],\n                count: 0\n            },\n            plugins: [store => store.subscribe(console.log)],\n            actions: {\n                addToCart({ commit }, item) {\n                    commit('addItem', item);\n                    commit('updateCount');\n                },\n                removeFromCart({ commit }, item) {\n                    commit('removeItemByIndex', item);\n                    commit('updateCount');\n                },\n                removeAllFromCart({ commit, state }) {\n                    let items = state.cart;\n\n                    items.forEach(item => commit('removeItem', item));\n\n                    commit('updateCount');\n                }\n            },\n            mutations: {\n                addItem(state, data) {\n                    return{\n                        ...state,\n                        cart: [\n                            ...state.cart,\n                            data\n                        ]\n                    };\n                },\n                removeItemByIndex(state, data) {\n                    return{\n                        ...state,\n                        cart: state.cart.filter((a, i) => i !== data)\n                    };\n                },\n                removeItem(state, item) {\n                    return {\n                        ...state,\n                        cart: state.cart.filter(i => i !== item)\n                    };\n                },\n                updateCount(state) {\n                    return {\n                        ...state,\n                        count: state.cart.length\n                    };\n                }\n            }\n        };\n    }\n}\ncustomElements.define(MyStore.is, MyStore);\n\nclass Basket extends ElementWithStore {\n    constructor() {\n        super();\n        this.count = 0;\n        this.items = [];\n    }\n\n    static get properties() {\n        return {\n            count: Number,\n            items: Object\n        };\n    }\n\n    onStateChange(state) {\n        this.count = state.count;\n        this.items = state.cart;\n    }\n\n    static get is() {\n        return 'shop-basket';\n    }\n\n    handleRemove(index) {\n        this.dispatch('removeFromCart', index);\n    }\n\n    handleRemoveAll() {\n        this.dispatch('removeAllFromCart');\n    }\n\n    render() {\n        return html`\n            <style>\n                .basket {\n                    position: fixed;\n                    bottom: 0;\n                    right: 0;\n                    padding: 20px 50px;\n                    background: rgba(0,0,0,0.8);\n                    color: white;\n                }\n            </style>\n            <div class=\"basket\">\n                Basket<br />\n                Total: ${this.count}\n\n                <ul>\n                    ${this.items.map(\n                        (item, index) => html`\n                        <li>\n                            <button onCLick=${() =>\n                                this.handleRemove(index)}>X</button>\n                            ${item.title}\n                        </li>\n                    `\n                    )}\n                </ul>\n\n                ${\n                    this.items.length\n                        ? html`<button onClick=${() =>\n                              this.handleRemoveAll()}>remove all</button>`\n                        : null\n                }\n            </div>\n        `;\n    }\n}\ncustomElements.define(Basket.is, Basket);\n\nclass Item extends ElementWithStore {\n    item = {};\n\n    static get is() {\n        return 'shop-item';\n    }\n\n    static get properties() {\n        return {\n            c: JSONObject\n        };\n    }\n\n    handleClick = () => {\n        this.dispatch('addToCart', this.item);\n    };\n\n    render() {\n        return html`\n            <div class=\"detail\" has-content=\"\">\n                <img\n                    src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw\"\n                    width=\"300\"\n                    height=\"300\"\n                    class=\"image\"\n                />\n                <h1>${this.item.title}</h1>\n                <div class=\"price\">${this.item.price}$</div>\n                <button\n                    onClick=${this.handleClick}\n                    class=\"button\"\n                    aria-label=\"Add this item to cart\"\n                >\n                    Add to Cart\n                </button>\n            </div>\n        `;\n    }\n}\ncustomElements.define(Item.is, Item);\n\nclass StoreDemo extends Element {\n    static get is() {\n        return 'store-demo';\n    }\n\n    render() {\n        return html`\n            <style>\n                h1 {\n                    font-size: 13px;\n                    font-weight: 500;\n                    line-height: 28px;\n                    margin: 0;\n                }\n                .detail {\n                    text-align:center;\n                    margin: 0 28px 48px;\n                }\n                .price {\n                    margin: 0px 0 10px;\n                    font-size: 13px;\n                    color: rgb(117, 117, 117);\n                }\n                .image {\n                    max-width: 100%;\n                    background: rgb(117, 117, 117);\n                }\n                .button {\n                    display: inline-block;\n                    box-sizing: border-box;\n                    border: 2px solid #000;\n                    background-color: #FFF;\n                    font-size: 14px;\n                    font-weight: 500;\n                    color: var(--app-primary-color);\n                    margin: 0;\n                    padding: 8px 44px;\n                    text-align: center;\n                    text-decoration: none;\n                    text-transform: uppercase;\n                    border-radius: 0;\n                    outline: none;\n                    -webkit-appearance: none;\n                }\n                my-store {\n                    display: flex;\n                    flex-wrap: wrap;\n                }\n                shop-item {\n                    flex: 1 1;\n                    flex-basis: 33%;\n                    max-width: 33%;\n                }\n                @media (max-width: 767px) {\n                    shop-item {\n                        flex-basis: 100%;\n                        max-width: 100%;\n                    }\n                }\n            </style>\n            <my-store>\n                <shop-basket></shop-basket>\n                ${Items.map(item => html`<shop-item item=${item}></shop-item>`)}\n            </my-store>\n        `;\n    }\n}\n\ncustomElements.define(StoreDemo.is, StoreDemo);\n","function defineProps(constructor) {\n    if (!constructor.__attrsMap) {\n        const props = constructor.properties;\n        const attrsMap = Object.create(null);\n        if (props) {\n            for (const name in props) {\n                attrsMap[name.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase()] = name;\n                Object.defineProperty(constructor.prototype, name, {\n                    get() {\n                        return this.__props[name];\n                    },\n                    set(newValue) {\n                        const oldValue = this.__props[name];\n                        this.__props[name] = props[name](newValue);\n                        this.rendered &&\n                            oldValue !== newValue &&\n                            !this.update._scheduled &&\n                            this.update();\n                    }\n                });\n            }\n        }\n        constructor.__attrsMap = attrsMap;\n        constructor.__observedProps = Object.keys(attrsMap);\n    }\n    return constructor.__observedProps;\n}\nexport function withProps(Base) {\n    return class extends Base {\n        constructor() {\n            super(...arguments);\n            this.__props = Object.create(null);\n        }\n        static get observedAttributes() {\n            return defineProps(this);\n        }\n        attributeChangedCallback(name, _, newValue) {\n            this[this.constructor.__attrsMap[name]] = newValue;\n        }\n    };\n}\n","const requestIdleCallback = window.requestIdleCallback ||\n    function (handler) {\n        const start = Date.now();\n        return setTimeout(() => handler({\n            didTimeout: false,\n            timeRemaining: () => {\n                return Math.max(0, 50 - (Date.now() - start));\n            },\n        }), 1);\n    };\nexport class Scheduler {\n    constructor() {\n        this.tasks = [];\n        this.running = false;\n        this.process = (deadline) => {\n            const tasks = this.tasks;\n            while ((deadline.timeRemaining() > 0 || deadline.didTimeout) &&\n                tasks.length > 0) {\n                const fn = tasks.shift();\n                fn._scheduled = false;\n                fn();\n            }\n            if (tasks.length > 0) {\n                this.start();\n            }\n            else {\n                this.running = false;\n            }\n        };\n    }\n    start() {\n        requestIdleCallback(this.process, {\n            timeout: 50,\n        });\n        this.running = true;\n    }\n    defer(fn) {\n        return () => {\n            if (fn._scheduled === undefined) {\n                fn._scheduled = false;\n                fn();\n            }\n            else if (!fn._scheduled) {\n                this.tasks.push(fn);\n                fn._scheduled = true;\n                fn._priority = 0;\n            }\n            else {\n                fn._priority++;\n                this.tasks.sort((a, b) => b._priority - a._priority);\n            }\n            if (this.tasks.length && !this.running) {\n                this.start();\n            }\n        };\n    }\n}\nexport default new Scheduler();\n","import { render } from '@tiny-lit/core';\nimport Scheduler from './Scheduler';\nexport function withElement(Base) {\n    return class extends Base {\n        constructor() {\n            super(...arguments);\n            this.state = {};\n            this.rendered = false;\n            this.renderCallbacks = [];\n            this.update = this.scheduler.defer(() => {\n                this.rendered = true;\n                const template = this.render();\n                template && render(template, this);\n                while (this.renderCallbacks.length)\n                    this.renderCallbacks.shift()();\n            });\n        }\n        get scheduler() {\n            return Scheduler;\n        }\n        connectedCallback() {\n            this.update();\n        }\n        setState(nextState, callback) {\n            const state = this.state;\n            this.state = Object.assign({}, state, (typeof nextState === 'function'\n                ? nextState(state, this)\n                : nextState));\n            callback && this.renderCallbacks.push(callback);\n            this.update();\n        }\n        render() {\n            return null;\n        }\n    };\n}\n","import { withProps } from './withProps';\nimport { withElement } from './withElement';\nexport const Element = withProps(withElement(HTMLElement));\n","export { Element } from './Element';\nexport { withProps } from './withProps';\nexport { withElement } from './withElement';\n","import { html, render } from \"@tiny-lit/core\";\nimport { Element } from \"@tiny-lit/element\";\n\nconst t = (c) => html`\n  <div>${c}</div>\n`;\n\nclass Counter extends HTMLElement {\n    static get is() { return 'test-counter'; }\n\n    connectedCallback() {\n        this.innerHTML = `\n            <button id=\"start\">start</button>\n            <div id=\"content\"></div>\n        `;\n\n        this.content = this.querySelector(\"#content\")\n        this.querySelector(\"#start\").addEventListener(\"click\", this.start);\n    }\n\n    start = () => {\n        this.c = 0;\n        console.clear();\n        console.time(\"duration\");\n        while (this.c <= 1000000) {\n          render(t(this.c++), this.content);\n        }\n        console.timeEnd(\"duration\");\n    }\n}\ncustomElements.define(Counter.is, Counter);","export default () => ({\n    path() {\n        return location.hash ? location.hash.substring(1) : '';\n    },\n    go(path) {\n        location.hash = `#${path}`;\n    },\n    listen(callback) {\n        addEventListener('hashchange', callback);\n        return removeEventListener.bind(window, 'hashchange', callback);\n    }\n});\n","export default () => ({\n    path() {\n        return location.pathname;\n    },\n    go(path) {\n        history.pushState(null, document.title, path);\n        dispatchEvent(new Event('pushstate'));\n    },\n    listen(callback) {\n        addEventListener('popstate', callback);\n        addEventListener('pushstate', callback);\n        return removeEventListener.bind(window, 'popstate', callback);\n    }\n});\n","export { default as createHashHistory } from './hash';\nexport { default as createPathHistory } from './path';\n","import { createPathHistory, createHashHistory } from './history';\nconst ParamsRegex = /\\/:([\\w]+)(?:{([\\w,]+)})?(\\?)?/g;\nfunction parsePath(path) {\n    let m, params = [], pattern = path;\n    if (path === '*') {\n        return {\n            regex: /.*/,\n            params: []\n        };\n    }\n    while ((m = ParamsRegex.exec(path))) {\n        const paramRegex = m[2] ? `${m[2].split(',').join('|')}` : '[^/]+';\n        params.push(m[1]);\n        pattern = pattern.replace(m[0], `(?:\\\\/(${paramRegex}))${m[3] ? '?' : ''}`);\n    }\n    return {\n        regex: new RegExp(`^${pattern}\\\\/?$`),\n        params\n    };\n}\nexport class Router {\n    constructor({ interceptLocals, useHash }) {\n        this.routes = [];\n        this.handleLocalClick = e => {\n            const target = e.target;\n            if (target.nodeName === 'A' &&\n                target.href.indexOf(location.origin) === 0) {\n                e.preventDefault();\n                this.goTo(target.getAttribute('href'));\n            }\n        };\n        this.resolve = () => {\n            const path = this.history.path();\n            const current = this.current;\n            this.routes.some((route) => {\n                let match = path.match(route.regex);\n                const { onEnter, onUpdate } = route.callbacks;\n                if (match) {\n                    match = match\n                        .reduce((map, m, i) => {\n                        if (i && m !== undefined)\n                            map[route.params[i - 1]] = m;\n                        return map;\n                    }, {});\n                    if (current !== route) {\n                        this.current = route;\n                        if (current)\n                            current.callbacks.onLeave(match);\n                        onEnter(match);\n                    }\n                    else {\n                        onUpdate(match);\n                    }\n                }\n                return match;\n            });\n        };\n        if (useHash)\n            this.history = createHashHistory();\n        else\n            this.history = createPathHistory();\n        this.history.listen(this.resolve);\n        if (interceptLocals)\n            document.addEventListener('click', this.handleLocalClick);\n    }\n    on(path, callbacks = {}) {\n        const route = Object.assign({ path,\n            callbacks }, parsePath(path));\n        this.routes.push(route);\n        return () => (this.routes = this.routes.filter(r => r !== route));\n    }\n    goTo(path) {\n        this.history.go(path);\n    }\n}\n","export var RouterEvents;\n(function (RouterEvents) {\n    RouterEvents[\"Request\"] = \"router::request\";\n    RouterEvents[\"Change\"] = \"router::change\";\n})(RouterEvents || (RouterEvents = {}));\n","import { RouterEvents } from './types';\nexport function requestRouter(el) {\n    const event = new CustomEvent(RouterEvents.Request, { detail: {} });\n    el.dispatchEvent(event);\n    return event.detail.router;\n}\n","import { requestRouter } from './events';\nconst waitComponent = (route, component) => Promise.resolve(!route.hasAttribute('module') ||\n    import(route.getAttribute('module')))\n    .then(() => customElements.whenDefined(component.localName));\nexport class RouteElement extends HTMLElement {\n    connectedCallback() {\n        const path = this.getAttribute('path'), componentName = this.getAttribute('component');\n        if (!path || !componentName)\n            return;\n        if ((this.router = requestRouter(this))) {\n            const component = document.createElement(componentName);\n            this.dispose = this.router.on(path, {\n                onEnter: params => {\n                    waitComponent(this, component).then(() => this.appendChild(component)).then(() => component.onRouteEnter && component.onRouteEnter(params));\n                },\n                onUpdate: params => {\n                    waitComponent(this, component).then(() => component.onRouteUpdate && component.onRouteUpdate(params));\n                },\n                onLeave: () => {\n                    waitComponent(this, component)\n                        .then(() => component.onRouteLeave && component.onRouteLeave())\n                        .then(() => this.removeChild(component));\n                }\n            });\n        }\n    }\n    disconnectedCallback() {\n        if (this.dispose)\n            this.dispose();\n    }\n}\n","import { Router } from './router';\nimport { RouterEvents } from './types';\nexport class RouterProvider extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        this.onRouterRequest = (e) => {\n            e.detail.router = this.router;\n        };\n    }\n    connectedCallback() {\n        document.body.addEventListener(RouterEvents.Request, this.onRouterRequest, true);\n        if (!this.router) {\n            this.router = new Router({\n                interceptLocals: this.hasAttribute('intercept-locals'),\n                useHash: this.hasAttribute('use-hash')\n            });\n        }\n        requestAnimationFrame(() => this.router.resolve());\n    }\n    disconnectedCallback() {\n        document.body.removeEventListener(RouterEvents.Request, this.onRouterRequest, true);\n    }\n}\n","export { Router } from './router';\nexport { RouteElement } from './RouteElement';\nexport { RouterProvider } from './RouterProvider';\n","import './todo';\nimport './karpinsky';\nimport './store';\nimport './counter';\n\nimport { RouterProvider, RouteElement } from '@tiny-lit/router';\n\ncustomElements.define('demo-router', RouterProvider);\ncustomElements.define('demo-route', RouteElement);\n"]}