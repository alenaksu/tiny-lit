{"version":3,"sources":["../../node_modules/@tiny-lit/core/lib/cjs/tiny-lit.js","../../node_modules/@tiny-lit/core/lib/cjs/index.js","../../node_modules/@tiny-lit/core/lib/esm/tiny-lit.js","../../node_modules/@tiny-lit/core/lib/esm/index.js","../../node_modules/@tiny-lit/element/lib/cjs/Scheduler.js","../../node_modules/@tiny-lit/element/lib/cjs/Element.js","../../node_modules/@tiny-lit/element/lib/cjs/index.js","todo/style.js","todo/index.js","karpinsky/index.js","../../node_modules/@tiny-lit/store/lib/cjs/types.js","../../node_modules/@tiny-lit/store/lib/cjs/events.js","../../node_modules/@tiny-lit/store/lib/cjs/store.js","../../node_modules/@tiny-lit/store/lib/cjs/withStore.js","../../node_modules/@tiny-lit/store/lib/cjs/StoreProvider.js","../../node_modules/@tiny-lit/store/lib/cjs/index.js","store/index.js","../../node_modules/@tiny-lit/router/lib/esm/router.js","../../node_modules/@tiny-lit/router/lib/esm/types.js","../../node_modules/@tiny-lit/router/lib/esm/events.js","../../node_modules/@tiny-lit/router/lib/esm/RouteElement.js","../../node_modules/@tiny-lit/router/lib/esm/RouterProvider.js","../../node_modules/@tiny-lit/router/lib/esm/index.js","index.js"],"names":["parseTemplate","templateCache","Map","range","document","createRange","html","setStart","documentElement","has","set","createContextualFragment","get","cloneNode","typeCheck","obj","types","some","type","replaceContent","content","node","insertBefore","removeNodes","nodes","forEach","parentNode","removeChild","treeWalkerFilter","__skip","NodeFilter","FILTER_SKIP","FILTER_ACCEPT","before","isTemplateEqual","t1","t2","isTemplate","constructor","strings","length","every","s","i","markerNumber","marker","Number","replace","textNode","text","createTextNode","isNode","ownerDocument","Template","TemplateCollection","createElement","values","expressionsMap","reduce","value","fragment","expressions","linkExpressions","attributesToExpressions","element","linkedExpressions","attrs","attributes","name","item","removeAttribute","AttributeExpression","textsToExpressions","data","match","key","keyNode","splitText","indexOf","deleteData","NodeExpression","root","treeWalker","createTreeWalker","SHOW_TEXT","SHOW_ELEMENT","Array","size","nextNode","currentNode","nodeType","Node","TEXT_NODE","ELEMENT_NODE","acceptNode","undefined","withKey","update","force","create","slice","call","childNodes","moveTemplate","template","nextSibling","templates","_flushTemplates","keys","map","delete","rootNode","push","items","String","appendChild","createDocumentFragment","currentValue","setAttribute","hasAttribute","isArray","nodeValue","render","container","instances","concat","WeakMap","prevented","f","e","preventDefault","loadStorage","defaultValue","localStorage","getItem","JSON","parse","saveStorage","window","requestAnimationFrame","setItem","stringify","shuffle","array","counter","index","Math","floor","random","temp","TodoMVC","state","todos","filter","Element","nextState","completed","setState","target","elements","id","toString","substr","reset","remove","todo","style","handleAddTodo","switchCompleted","handleDeleteTodo","setFilter","handleClearCompleted","customElements","define","is","targetSize","rafInterval","fn","running","run","KarpinskyDot","x","y","hover","addEventListener","Boolean","getStyle","KarpinskyTriangle","seconds","performance","slowDown","now","KarpinskyDemo","start","Date","timerInterval","setInterval","tick","bind","renderInterval","clearInterval","elapsed","t","scale","JSONObject","object","Items","title","category","price","ElementWithStore","MyStore","StoreProvider","initialState","cart","count","plugins","store","subscribe","console","log","actions","addToCart","commit","removeFromCart","removeAllFromCart","mutations","addItem","removeItemByIndex","splice","removeItem","updateCount","Basket","dispatch","handleRemove","handleRemoveAll","Object","Item","handleClick","c","StoreDemo","ParamsRegex","pathToRegex","path","m","pattern","exec","paramRegex","groups","split","join","RegExp","Router","interceptLocal","routes","handleLocalClick","nodeName","href","location","origin","stopImmediatePropagation","goTo","getAttribute","resolve","pathname","current","route","regex","onLeave","onEnter","onUpdate","on","off","history","pushState","RouterEvents","requestRouter","el","event","CustomEvent","Request","detail","dispatchEvent","router","updateComponentParams","component","params","RouteElement","HTMLElement","connectedCallback","componentName","onRouteEnter","onRouteUpdate","onRouteLeave","disconnectedCallback","RouterProvider","onRouterRequest","body","removeEventListener"],"mappings":"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","file":"demo.37897a7b.map","sourceRoot":"../../packages/demo","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar parseTemplate = (function () {\n    var templateCache = new Map();\n    var range = document.createRange();\n    range.setStart(document.documentElement, 0);\n    return function (html) {\n        if (!templateCache.has(html)) {\n            templateCache.set(html, range.createContextualFragment(html));\n        }\n        return templateCache.get(html).cloneNode(true);\n    };\n})();\nfunction typeCheck(obj, types) {\n    return types.some(function (type) { return obj instanceof type; });\n}\nfunction replaceContent(content, node) {\n    insertBefore(node, content[0]);\n    removeNodes(content);\n    return node;\n}\nfunction removeNodes(nodes) {\n    nodes.forEach(function (node) {\n        node.parentNode && node.parentNode.removeChild(node);\n    });\n}\nfunction treeWalkerFilter(node) {\n    return node.__skip\n        ? (delete node.__skip, NodeFilter.FILTER_SKIP)\n        : NodeFilter.FILTER_ACCEPT;\n}\ntreeWalkerFilter.acceptNode = treeWalkerFilter;\nfunction insertBefore(node, before) {\n    before.parentNode.insertBefore(node, before);\n}\nfunction isTemplateEqual(t1, t2) {\n    return (isTemplate(t1) &&\n        t1.constructor === t2.constructor &&\n        ((!t1.strings && !t2.strings) ||\n            (t1.strings.length &&\n                t2.strings.length &&\n                t1.strings.every(function (s, i) { return t2.strings[i] === s; }))));\n}\nfunction markerNumber(marker) {\n    return Number(marker.replace(/\\D+/g, ''));\n}\nfunction textNode(text) {\n    if (text === void 0) { text = ''; }\n    return document.createTextNode(text);\n}\nfunction isNode(obj) {\n    return !!obj && !!obj.ownerDocument;\n}\nfunction isTemplate(obj) {\n    return typeCheck(obj, [Template, TemplateCollection]);\n}\nfunction createElement(strings, values) {\n    var expressionsMap = new Map();\n    var html = values.reduce(function (html, value, i) {\n        var marker = \"__\" + i + \"__\";\n        expressionsMap.set(marker, value);\n        html += marker + strings[i + 1];\n        return html;\n    }, strings[0]);\n    var fragment = parseTemplate(html);\n    var expressions = linkExpressions(fragment, expressionsMap);\n    return {\n        fragment: fragment,\n        expressions: expressions\n    };\n}\nfunction attributesToExpressions(element, expressions, linkedExpressions) {\n    var attrs = element.attributes;\n    var i = attrs.length;\n    while (i--) {\n        var _a = attrs.item(i), name_1 = _a.name, value = _a.value;\n        if (expressions.has(value)) {\n            element.removeAttribute(name_1);\n            linkedExpressions[markerNumber(value)] = new AttributeExpression(element, name_1);\n        }\n    }\n}\nfunction textsToExpressions(node, linkedExpressions) {\n    var keys = node.data.match(/__\\d+__/g) || [];\n    keys.forEach(function (key) {\n        var keyNode = textNode(key);\n        keyNode.__skip = true;\n        node = node.splitText(node.data.indexOf(key));\n        node.deleteData(0, key.length);\n        insertBefore(keyNode, node);\n        linkedExpressions[markerNumber(key)] = new NodeExpression(keyNode);\n    });\n}\nfunction linkExpressions(root, expressions) {\n    var treeWalker = document.createTreeWalker(root, NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT, treeWalkerFilter, false);\n    var linkedExpressions = Array(expressions.size);\n    while (treeWalker.nextNode()) {\n        var node = treeWalker.currentNode;\n        if (node.nodeType === Node.TEXT_NODE)\n            textsToExpressions(node, linkedExpressions);\n        else if (node.nodeType === Node.ELEMENT_NODE)\n            attributesToExpressions(node, expressions, linkedExpressions);\n    }\n    return linkedExpressions;\n}\nvar Template = (function () {\n    function Template(strings, values) {\n        this.content = [];\n        this.expressions = [];\n        this.key = undefined;\n        this.values = values;\n        this.strings = strings;\n    }\n    Template.prototype.withKey = function (key) {\n        this.key = key;\n        return this;\n    };\n    Template.prototype.update = function (values, force) {\n        for (var i = 0; i < values.length; i++) {\n            if (this.expressions[i] !== undefined)\n                this.expressions[i].update(values[i], force);\n        }\n    };\n    Template.prototype.create = function () {\n        var _a = createElement(this.strings, this.values), fragment = _a.fragment, expressions = _a.expressions;\n        this.expressions = expressions;\n        this.update(this.values, true);\n        this.content = [].slice.call(fragment.childNodes);\n        return fragment;\n    };\n    return Template;\n}());\nexports.Template = Template;\nfunction moveTemplate(template, node) {\n    var currentNode = node;\n    template.content.forEach(function (node) {\n        currentNode.parentNode.insertBefore(node, currentNode.nextSibling);\n        currentNode = node;\n    });\n}\nvar TemplateCollection = (function () {\n    function TemplateCollection(values) {\n        this.values = values;\n        this.templates = new Map();\n    }\n    TemplateCollection.prototype._flushTemplates = function (keys) {\n        var templates = this.templates;\n        templates.forEach(function (template, key, map) {\n            if (keys.indexOf(key) === -1) {\n                removeNodes(template.content);\n                map.delete(key);\n            }\n        });\n    };\n    Object.defineProperty(TemplateCollection.prototype, \"content\", {\n        get: function () {\n            var _a = this, templates = _a.templates, rootNode = _a.rootNode;\n            var nodes = [rootNode];\n            templates.forEach(function (template) {\n                return nodes.push.apply(nodes, template.content);\n            });\n            return nodes;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TemplateCollection.prototype.update = function (items) {\n        var _a = this, rootNode = _a.rootNode, templates = _a.templates;\n        var currentNode = rootNode;\n        var keys = items.reduce(function (keys, item, i) {\n            var key = String(item.key || i);\n            var template = templates.get(key);\n            if (!template) {\n                var node = item.create();\n                currentNode.nextSibling\n                    ? insertBefore(node, currentNode.nextSibling)\n                    : currentNode.parentNode.appendChild(node);\n                templates.set(key, item);\n                template = item;\n            }\n            else if (!isTemplateEqual(template, item)) {\n                replaceContent(template.content, item.create());\n                templates.set(key, item);\n                template = item;\n            }\n            else {\n                template.update(item.values);\n            }\n            if (currentNode.nextSibling !== template.content[0]) {\n                moveTemplate(template, currentNode);\n            }\n            currentNode = template.content[template.content.length - 1];\n            keys.push(key);\n            return keys;\n        }, []);\n        this._flushTemplates(keys);\n    };\n    TemplateCollection.prototype.create = function () {\n        var fragment = document.createDocumentFragment();\n        this.rootNode = textNode();\n        fragment.appendChild(this.rootNode);\n        this.update(this.values);\n        return fragment;\n    };\n    return TemplateCollection;\n}());\nexports.TemplateCollection = TemplateCollection;\nvar AttributeExpression = (function () {\n    function AttributeExpression(element, name) {\n        this.name = name;\n        this.element = element;\n    }\n    AttributeExpression.prototype.update = function (value, force) {\n        var _a = this, name = _a.name, element = _a.element, currentValue = _a.value;\n        if (!force && currentValue === value) {\n            return;\n        }\n        if (name in element) {\n            element[name] = value;\n        }\n        else if (value != null) {\n            element.setAttribute(name, value);\n        }\n        if (value == null && element.hasAttribute(name)) {\n            element.removeAttribute(name);\n        }\n        this.value = value;\n    };\n    return AttributeExpression;\n}());\nexports.AttributeExpression = AttributeExpression;\nvar NodeExpression = (function () {\n    function NodeExpression(element) {\n        this.element = element;\n        this.value = undefined;\n    }\n    NodeExpression.prototype.update = function (value, force) {\n        var element = this.element;\n        if (value === undefined || value === null) {\n            value = textNode();\n        }\n        else if (!force && value === this.value) {\n            return;\n        }\n        if (Array.isArray(value))\n            value = new TemplateCollection(value);\n        if (!isNode(value) && !isTemplate(value) && !isTemplate(element)) {\n            element.nodeValue = value;\n        }\n        else if (isTemplateEqual(element, value)) {\n            element.update(value.values);\n        }\n        else {\n            replaceContent(isTemplate(element)\n                ? element.content\n                : [element], isTemplate(value)\n                ? value.create()\n                : isNode(value)\n                    ? value\n                    : (value = textNode(value)));\n            this.element = value;\n        }\n        this.value = value;\n    };\n    return NodeExpression;\n}());\nexports.NodeExpression = NodeExpression;\nfunction render(template, container) {\n    if (!render.instances.has(container)) {\n        render.instances.set(container, template);\n        container.appendChild(template.create());\n    }\n    else {\n        render.instances.get(container).update(template.values);\n    }\n}\nexports.render = render;\nrender.instances = new WeakMap();\nfunction html(strings) {\n    var values = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        values[_i - 1] = arguments[_i];\n    }\n    return new Template([].concat(strings), values);\n}\nexports.html = html;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tiny_lit_1 = require(\"./tiny-lit\");\nexports.render = tiny_lit_1.render;\nexports.html = tiny_lit_1.html;\nexports.Template = tiny_lit_1.Template;\nexports.TemplateCollection = tiny_lit_1.TemplateCollection;\n","const parseTemplate = (function () {\n    const templateCache = new Map();\n    const range = document.createRange();\n    range.setStart(document.documentElement, 0);\n    return (html) => {\n        if (!templateCache.has(html)) {\n            templateCache.set(html, range.createContextualFragment(html));\n        }\n        return templateCache.get(html).cloneNode(true);\n    };\n})();\nfunction typeCheck(obj, types) {\n    return types.some((type) => obj instanceof type);\n}\nfunction replaceContent(content, node) {\n    insertBefore(node, content[0]);\n    removeNodes(content);\n    return node;\n}\nfunction removeNodes(nodes) {\n    nodes.forEach((node) => {\n        node.parentNode && node.parentNode.removeChild(node);\n    });\n}\nfunction treeWalkerFilter(node) {\n    return node.__skip\n        ? (delete node.__skip, NodeFilter.FILTER_SKIP)\n        : NodeFilter.FILTER_ACCEPT;\n}\ntreeWalkerFilter.acceptNode = treeWalkerFilter;\nfunction insertBefore(node, before) {\n    before.parentNode.insertBefore(node, before);\n}\nfunction isTemplateEqual(t1, t2) {\n    return (isTemplate(t1) &&\n        t1.constructor === t2.constructor &&\n        ((!t1.strings && !t2.strings) ||\n            (t1.strings.length &&\n                t2.strings.length &&\n                t1.strings.every((s, i) => t2.strings[i] === s))));\n}\nfunction markerNumber(marker) {\n    return Number(marker.replace(/\\D+/g, ''));\n}\nfunction textNode(text = '') {\n    return document.createTextNode(text);\n}\nfunction isNode(obj) {\n    return !!obj && !!obj.ownerDocument;\n}\nfunction isTemplate(obj) {\n    return typeCheck(obj, [Template, TemplateCollection]);\n}\nfunction createElement(strings, values) {\n    const expressionsMap = new Map();\n    const html = values.reduce((html, value, i) => {\n        const marker = `__${i}__`;\n        expressionsMap.set(marker, value);\n        html += marker + strings[i + 1];\n        return html;\n    }, strings[0]);\n    const fragment = parseTemplate(html);\n    const expressions = linkExpressions(fragment, expressionsMap);\n    return {\n        fragment,\n        expressions\n    };\n}\nfunction attributesToExpressions(element, expressions, linkedExpressions) {\n    const attrs = element.attributes;\n    let i = attrs.length;\n    while (i--) {\n        const { name, value } = attrs.item(i);\n        if (expressions.has(value)) {\n            element.removeAttribute(name);\n            linkedExpressions[markerNumber(value)] = new AttributeExpression(element, name);\n        }\n    }\n}\nfunction textsToExpressions(node, linkedExpressions) {\n    const keys = node.data.match(/__\\d+__/g) || [];\n    keys.forEach((key) => {\n        const keyNode = textNode(key);\n        keyNode.__skip = true;\n        node = node.splitText(node.data.indexOf(key));\n        node.deleteData(0, key.length);\n        insertBefore(keyNode, node);\n        linkedExpressions[markerNumber(key)] = new NodeExpression(keyNode);\n    });\n}\nfunction linkExpressions(root, expressions) {\n    const treeWalker = document.createTreeWalker(root, NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT, treeWalkerFilter, false);\n    const linkedExpressions = Array(expressions.size);\n    while (treeWalker.nextNode()) {\n        const node = treeWalker.currentNode;\n        if (node.nodeType === Node.TEXT_NODE)\n            textsToExpressions(node, linkedExpressions);\n        else if (node.nodeType === Node.ELEMENT_NODE)\n            attributesToExpressions(node, expressions, linkedExpressions);\n    }\n    return linkedExpressions;\n}\nexport class Template {\n    constructor(strings, values) {\n        this.content = [];\n        this.expressions = [];\n        this.key = undefined;\n        this.values = values;\n        this.strings = strings;\n    }\n    withKey(key) {\n        this.key = key;\n        return this;\n    }\n    update(values, force) {\n        for (let i = 0; i < values.length; i++) {\n            if (this.expressions[i] !== undefined)\n                this.expressions[i].update(values[i], force);\n        }\n    }\n    create() {\n        const { fragment, expressions } = createElement(this.strings, this.values);\n        this.expressions = expressions;\n        this.update(this.values, true);\n        this.content = [].slice.call(fragment.childNodes);\n        return fragment;\n    }\n}\nfunction moveTemplate(template, node) {\n    let currentNode = node;\n    template.content.forEach(node => {\n        currentNode.parentNode.insertBefore(node, currentNode.nextSibling);\n        currentNode = node;\n    });\n}\nexport class TemplateCollection {\n    constructor(values) {\n        this.values = values;\n        this.templates = new Map();\n    }\n    _flushTemplates(keys) {\n        const { templates } = this;\n        templates.forEach((template, key, map) => {\n            if (keys.indexOf(key) === -1) {\n                removeNodes(template.content);\n                map.delete(key);\n            }\n        });\n    }\n    get content() {\n        const { templates, rootNode } = this;\n        const nodes = [rootNode];\n        templates.forEach((template) => nodes.push(...template.content));\n        return nodes;\n    }\n    update(items) {\n        const { rootNode, templates } = this;\n        let currentNode = rootNode;\n        const keys = items.reduce((keys, item, i) => {\n            const key = String(item.key || i);\n            let template = templates.get(key);\n            if (!template) {\n                const node = item.create();\n                currentNode.nextSibling\n                    ? insertBefore(node, currentNode.nextSibling)\n                    : currentNode.parentNode.appendChild(node);\n                templates.set(key, item);\n                template = item;\n            }\n            else if (!isTemplateEqual(template, item)) {\n                replaceContent(template.content, item.create());\n                templates.set(key, item);\n                template = item;\n            }\n            else {\n                template.update(item.values);\n            }\n            if (currentNode.nextSibling !== template.content[0]) {\n                moveTemplate(template, currentNode);\n            }\n            currentNode = template.content[template.content.length - 1];\n            keys.push(key);\n            return keys;\n        }, []);\n        this._flushTemplates(keys);\n    }\n    create() {\n        const fragment = document.createDocumentFragment();\n        this.rootNode = textNode();\n        fragment.appendChild(this.rootNode);\n        this.update(this.values);\n        return fragment;\n    }\n}\nexport class AttributeExpression {\n    constructor(element, name) {\n        this.name = name;\n        this.element = element;\n    }\n    update(value, force) {\n        const { name, element, value: currentValue } = this;\n        if (!force && currentValue === value) {\n            return;\n        }\n        if (name in element) {\n            element[name] = value;\n        }\n        else if (value != null) {\n            element.setAttribute(name, value);\n        }\n        if (value == null && element.hasAttribute(name)) {\n            element.removeAttribute(name);\n        }\n        this.value = value;\n    }\n}\nexport class NodeExpression {\n    constructor(element) {\n        this.element = element;\n        this.value = undefined;\n    }\n    update(value, force) {\n        const { element } = this;\n        if (value === undefined || value === null) {\n            value = textNode();\n        }\n        else if (!force && value === this.value) {\n            return;\n        }\n        if (Array.isArray(value))\n            value = new TemplateCollection(value);\n        if (!isNode(value) && !isTemplate(value) && !isTemplate(element)) {\n            element.nodeValue = value;\n        }\n        else if (isTemplateEqual(element, value)) {\n            element.update(value.values);\n        }\n        else {\n            replaceContent(isTemplate(element)\n                ? element.content\n                : [element], isTemplate(value)\n                ? value.create()\n                : isNode(value)\n                    ? value\n                    : (value = textNode(value)));\n            this.element = value;\n        }\n        this.value = value;\n    }\n}\nexport function render(template, container) {\n    if (!render.instances.has(container)) {\n        render.instances.set(container, template);\n        container.appendChild(template.create());\n    }\n    else {\n        render.instances.get(container).update(template.values);\n    }\n}\nrender.instances = new WeakMap();\nexport function html(strings, ...values) {\n    return new Template([].concat(strings), values);\n}\n","export { render, html, Template, TemplateCollection } from './tiny-lit';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar requestIdleCallback = window.requestIdleCallback ||\n    function (handler, options) {\n        if (options === void 0) { options = {}; }\n        var start = Date.now();\n        return setTimeout(function () {\n            return handler({\n                didTimeout: false,\n                timeRemaining: function () {\n                    return Math.max(0, (options.timeout || 50) - (Date.now() - start));\n                },\n            });\n        }, 1);\n    };\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.tasks = [];\n        this.running = false;\n        this.process = function (deadline) {\n            var tasks = _this.tasks;\n            while ((deadline.timeRemaining() > 0 || deadline.didTimeout) &&\n                tasks.length > 0) {\n                var fn = tasks.shift();\n                fn._scheduled = false;\n                fn();\n            }\n            if (tasks.length > 0) {\n                _this.start();\n            }\n            else {\n                _this.running = false;\n            }\n        };\n    }\n    Scheduler.prototype.start = function () {\n        requestIdleCallback(this.process, {\n            timeout: 100,\n        });\n        this.running = true;\n    };\n    Scheduler.prototype.defer = function (fn) {\n        var _this = this;\n        return function () {\n            if (fn._scheduled === undefined) {\n                fn._scheduled = false;\n                fn();\n            }\n            else if (!fn._scheduled) {\n                _this.tasks.push(fn);\n                fn._scheduled = true;\n                fn._priority = 0;\n            }\n            else {\n                fn._priority++;\n                _this.tasks.sort(function (a, b) { return b._priority - a._priority; });\n            }\n            if (_this.tasks.length && !_this.running) {\n                _this.start();\n            }\n        };\n    };\n    return Scheduler;\n}());\nexports.Scheduler = Scheduler;\nexports.default = new Scheduler();\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@tiny-lit/core\");\nvar Scheduler_1 = require(\"./Scheduler\");\nfunction toKebabCase(str) {\n    return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\nfunction withElement(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.state = {};\n            _this.__childNodes = [];\n            _this.rendered = false;\n            _this.renderCallbacks = [];\n            _this.render = _this.scheduler.defer(function () {\n                if (!_this.rendered) {\n                    _this.__childNodes = [].slice.call(_this.childNodes);\n                    _this.rendered = true;\n                }\n                core_1.render(_this.getTemplate(), _this);\n                while (_this.renderCallbacks.length) {\n                    _this.renderCallbacks.shift()();\n                }\n            });\n            return _this;\n        }\n        Object.defineProperty(class_1.prototype, \"scheduler\", {\n            get: function () {\n                return Scheduler_1.default;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(class_1.prototype, \"slot\", {\n            get: function () {\n                return this.__childNodes.map(function (node) { return core_1.html(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\", \"\"], [\"\", \"\"])), node); });\n            },\n            enumerable: true,\n            configurable: true\n        });\n        class_1.prototype.connectedCallback = function () {\n            this.render();\n        };\n        class_1.prototype.setState = function (nextState, callback) {\n            var state = this.state;\n            this.state = __assign({}, state, (typeof nextState === 'function'\n                ? nextState(state, this)\n                : nextState));\n            callback && this.renderCallbacks.push(callback);\n            this.render();\n        };\n        class_1.prototype.getTemplate = function () {\n            throw 'Method not implemented';\n        };\n        return class_1;\n    }(Base));\n}\nexports.withElement = withElement;\nfunction defineProps(constructor) {\n    if (!constructor.hasOwnProperty('__attrsMap')) {\n        var props_1 = constructor.properties;\n        var attrsMap = Object.create(null);\n        if (props_1) {\n            var _loop_1 = function (name_1) {\n                attrsMap[toKebabCase(name_1)] = name_1;\n                Object.defineProperty(constructor.prototype, name_1, {\n                    get: function () {\n                        return this.__props[name_1];\n                    },\n                    set: function (newValue) {\n                        var oldValue = this.__props[name_1];\n                        this.__props[name_1] = props_1[name_1](newValue);\n                        this.rendered &&\n                            oldValue !== newValue &&\n                            !this.render._scheduled &&\n                            this.render();\n                    },\n                });\n            };\n            for (var name_1 in props_1) {\n                _loop_1(name_1);\n            }\n        }\n        constructor.__attrsMap = attrsMap;\n        constructor.__observedProperties = Object.keys(attrsMap);\n    }\n    return constructor.__observedProperties;\n}\nfunction withProps(Base) {\n    return (function (_super) {\n        __extends(class_2, _super);\n        function class_2() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.__props = Object.create(null);\n            return _this;\n        }\n        Object.defineProperty(class_2, \"observedAttributes\", {\n            get: function () {\n                return defineProps(this);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        class_2.prototype.attributeChangedCallback = function (name, _, newValue) {\n            this[this.constructor.__attrsMap[name]] = newValue;\n        };\n        return class_2;\n    }(Base));\n}\nexports.withProps = withProps;\nexports.Element = withProps(withElement(HTMLElement));\nvar templateObject_1;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Element_1 = require(\"./Element\");\nexports.Element = Element_1.Element;\nexports.withElement = Element_1.withElement;\nexports.withProps = Element_1.withProps;\n","import { html } from '@tiny-lit/core/lib/cjs';\n\nexport default html`\n<style>\n    button {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        background: none;\n        font-size: 100%;\n        vertical-align: baseline;\n        font-family: inherit;\n        font-weight: inherit;\n        color: inherit;\n        -webkit-appearance: none;\n        appearance: none;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n\n    .todoapp {\n        font: 14px 'Helvetica Neue', Helvetica, Arial, sans-serif;\n        line-height: 1.4em;\n        background: #f5f5f5;\n        color: #4d4d4d;\n        min-width: 230px;\n        max-width: 550px;\n        margin: 0 auto;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        font-weight: 300;\n    }\n\n    :focus {\n        outline: 0;\n    }\n\n    .hidden {\n        display: none;\n    }\n\n    .todoapp {\n        background: #fff;\n        margin: 130px auto;\n        position: relative;\n        box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2),\n                    0 25px 50px 0 rgba(0, 0, 0, 0.1);\n    }\n\n    .todoapp input::-webkit-input-placeholder {\n        font-style: italic;\n        font-weight: 300;\n        color: #e6e6e6;\n    }\n\n    .todoapp input::-moz-placeholder {\n        font-style: italic;\n        font-weight: 300;\n        color: #e6e6e6;\n    }\n\n    .todoapp input::input-placeholder {\n        font-style: italic;\n        font-weight: 300;\n        color: #e6e6e6;\n    }\n\n    .todoapp h1 {\n        position: absolute;\n        top: -155px;\n        width: 100%;\n        font-size: 100px;\n        font-weight: 100;\n        text-align: center;\n        color: rgba(175, 47, 47, 0.15);\n        -webkit-text-rendering: optimizeLegibility;\n        -moz-text-rendering: optimizeLegibility;\n        text-rendering: optimizeLegibility;\n    }\n\n    .new-todo,\n    .edit {\n        position: relative;\n        margin: 0;\n        width: 100%;\n        font-size: 24px;\n        font-family: inherit;\n        font-weight: inherit;\n        line-height: 1.4em;\n        border: 0;\n        color: inherit;\n        padding: 6px;\n        border: 1px solid #999;\n        box-shadow: inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);\n        box-sizing: border-box;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n\n    .new-todo {\n        padding: 16px 16px 16px 60px;\n        border: none;\n        background: rgba(0, 0, 0, 0.003);\n        box-shadow: inset 0 -2px 1px rgba(0,0,0,0.03);\n    }\n\n    .main {\n        position: relative;\n        z-index: 2;\n        border-top: 1px solid #e6e6e6;\n    }\n\n    .toggle-all {\n        text-align: center;\n        border: none; /* Mobile Safari */\n        opacity: 0;\n        position: absolute;\n    }\n\n    .toggle-all + label {\n        width: 60px;\n        height: 34px;\n        font-size: 0;\n        position: absolute;\n        top: -52px;\n        left: -13px;\n        -webkit-transform: rotate(90deg);\n        transform: rotate(90deg);\n    }\n\n    .toggle-all + label:before {\n        content: '❯';\n        font-size: 22px;\n        color: #e6e6e6;\n        padding: 10px 27px 10px 27px;\n    }\n\n    .toggle-all:checked + label:before {\n        color: #737373;\n    }\n\n    .todo-list {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n    }\n\n    .todo-list li {\n        position: relative;\n        font-size: 24px;\n        border-bottom: 1px solid #ededed;\n    }\n\n    .todo-list li:last-child {\n        border-bottom: none;\n    }\n\n    .todo-list li.editing {\n        border-bottom: none;\n        padding: 0;\n    }\n\n    .todo-list li.editing .edit {\n        display: block;\n        width: 506px;\n        padding: 12px 16px;\n        margin: 0 0 0 43px;\n    }\n\n    .todo-list li.editing .view {\n        display: none;\n    }\n\n    .todo-list li .toggle {\n        text-align: center;\n        width: 40px;\n        /* auto, since non-WebKit browsers doesn't support input styling */\n        height: auto;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        margin: auto 0;\n        border: none; /* Mobile Safari */\n        -webkit-appearance: none;\n        appearance: none;\n    }\n\n    .todo-list li .toggle {\n        opacity: 0;\n    }\n\n    .todo-list li .toggle + label {\n        /*\n            Firefox requires '#' to be escaped - https://bugzilla.mozilla.org/show_bug.cgi?id=922433\n            IE and Edge requires *everything* to be escaped to render, so we do that instead of just the '#' - https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/7157459/\n        */\n        background-image: url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23ededed%22%20stroke-width%3D%223%22/%3E%3C/svg%3E');\n        background-repeat: no-repeat;\n        background-position: center left;\n    }\n\n    .todo-list li .toggle:checked + label {\n        background-image: url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23bddad5%22%20stroke-width%3D%223%22/%3E%3Cpath%20fill%3D%22%235dc2af%22%20d%3D%22M72%2025L42%2071%2027%2056l-4%204%2020%2020%2034-52z%22/%3E%3C/svg%3E');\n    }\n\n    .todo-list li label {\n        word-break: break-all;\n        padding: 15px 15px 15px 60px;\n        display: block;\n        line-height: 1.2;\n        transition: color 0.4s;\n    }\n\n    .todo-list li.completed label {\n        color: #d9d9d9;\n        text-decoration: line-through;\n    }\n\n    .todo-list li .destroy {\n        display: none;\n        position: absolute;\n        top: 0;\n        right: 10px;\n        bottom: 0;\n        width: 40px;\n        height: 40px;\n        margin: auto 0;\n        font-size: 30px;\n        color: #cc9a9a;\n        margin-bottom: 11px;\n        transition: color 0.2s ease-out;\n    }\n\n    .todo-list li .destroy:hover {\n        color: #af5b5e;\n    }\n\n    .todo-list li .destroy:after {\n        content: '×';\n    }\n\n    .todo-list li:hover .destroy {\n        display: block;\n    }\n\n    .todo-list li .edit {\n        display: none;\n    }\n\n    .todo-list li.editing:last-child {\n        margin-bottom: -1px;\n    }\n\n    .footer {\n        color: #777;\n        padding: 10px 15px;\n        height: 20px;\n        text-align: center;\n        border-top: 1px solid #e6e6e6;\n    }\n\n    .footer:before {\n        content: '';\n        position: absolute;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        height: 50px;\n        overflow: hidden;\n        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2),\n                    0 8px 0 -3px #f6f6f6,\n                    0 9px 1px -3px rgba(0, 0, 0, 0.2),\n                    0 16px 0 -6px #f6f6f6,\n                    0 17px 2px -6px rgba(0, 0, 0, 0.2);\n    }\n\n    .todo-count {\n        float: left;\n        text-align: left;\n    }\n\n    .todo-count strong {\n        font-weight: 300;\n    }\n\n    .filters {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n        position: absolute;\n        right: 0;\n        left: 0;\n    }\n\n    .filters li {\n        display: inline;\n    }\n\n    .filters li a {\n        color: inherit;\n        margin: 3px;\n        padding: 3px 7px;\n        text-decoration: none;\n        border: 1px solid transparent;\n        border-radius: 3px;\n    }\n\n    .filters li a:hover {\n        border-color: rgba(175, 47, 47, 0.1);\n    }\n\n    .filters li a.selected {\n        border-color: rgba(175, 47, 47, 0.2);\n    }\n\n    .clear-completed,\n    html .clear-completed:active {\n        float: right;\n        position: relative;\n        line-height: 20px;\n        text-decoration: none;\n        cursor: pointer;\n    }\n\n    .clear-completed:hover {\n        text-decoration: underline;\n    }\n\n    .shuffle {\n        margin-right: 5px;\n    }\n\n    .info {\n        margin: 65px auto 0;\n        color: #bfbfbf;\n        font-size: 10px;\n        text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);\n        text-align: center;\n    }\n\n    .info p {\n        line-height: 1;\n    }\n\n    .info a {\n        color: inherit;\n        text-decoration: none;\n        font-weight: 400;\n    }\n\n    .info a:hover {\n        text-decoration: underline;\n    }\n\n    /*\n        Hack to remove background from Mobile Safari.\n        Can't use it globally since it destroys checkboxes in Firefox\n    */\n    @media screen and (-webkit-min-device-pixel-ratio:0) {\n        .toggle-all,\n        .todo-list li .toggle {\n            background: none;\n        }\n\n        .todo-list li .toggle {\n            height: 40px;\n        }\n    }\n\n    @media (max-width: 430px) {\n        .footer {\n            height: 50px;\n        }\n\n        .filters {\n            bottom: 10px;\n        }\n    }\n</style>\n`;\n","import { html } from '@tiny-lit/core/lib/cjs';\nimport { Element } from '@tiny-lit/element/lib/cjs';\nimport style from './style.js';\n\nfunction prevented(f) {\n    return e => {\n        e.preventDefault();\n        f(e);\n    };\n}\n\nfunction loadStorage(defaultValue) {\n    const s = localStorage.getItem('todoMvc');\n    return s ? JSON.parse(s) : defaultValue;\n}\n\nfunction saveStorage(value) {\n    window.requestAnimationFrame(() =>\n        localStorage.setItem('todoMvc', JSON.stringify(value))\n    );\n}\n\nfunction shuffle(array) {\n    let counter = array.length;\n\n    // While there are elements in the array\n    while (counter > 0) {\n        // Pick a random index\n        let index = Math.floor(Math.random() * counter);\n\n        // Decrease counter by 1\n        counter--;\n\n        // And swap the last element with it\n        let temp = array[counter];\n        array[counter] = array[index];\n        array[index] = temp;\n    }\n\n    return array;\n}\n\nclass TodoMVC extends Element {\n    constructor() {\n        super();\n        this.state = loadStorage({\n            todos: [],\n            filter: null,\n        });\n    }\n\n    static get is() {\n        return 'todo-mvc';\n    }\n\n    setState(nextState) {\n        super.setState(nextState);\n        saveStorage(this.state);\n    }\n\n    setFilter(completed) {\n        this.setState({ filter: completed });\n    }\n\n    handleAddTodo(e) {\n        this.setState({\n            todos: [\n                ...this.state.todos,\n                {\n                    text: e.target.elements[0].value,\n                    completed: false,\n                    id: Math.random()\n                        .toString()\n                        .substr(2),\n                },\n            ],\n        });\n        e.target.reset();\n    }\n\n    handleDeleteTodo(remove) {\n        this.setState({\n            todos: [...this.state.todos.filter(todo => todo !== remove)],\n        });\n    }\n\n    switchCompleted(index) {\n        const todos = this.state.todos;\n\n        todos[index].completed = !todos[index].completed;\n        this.setState({\n            todos: [...todos],\n        });\n    }\n\n    handleClearCompleted() {\n        this.setState({\n            todos: [...this.state.todos.filter(todo => !todo.completed)],\n        });\n    }\n\n    getTemplate() {\n        const { filter, todos } = this.state;\n\n        return html`\n            ${style}\n            <section class=\"todoapp body\">\n                <header class=\"header\">\n                    <h1>todos</h1>\n                    <form onSubmit=${prevented(e => this.handleAddTodo(e))}>\n                        <input\n                            class=\"new-todo\"\n                            placeholder=\"What needs to be done?\"\n                            autofocus\n                        />\n                    </form>\n                </header>\n                <!-- This section should be hidden by default and shown when there are todos -->\n                <section class=\"main\">\n                    <input id=\"toggle-all\" class=\"toggle-all\" type=\"checkbox\" />\n                    <label for=\"toggle-all\">Mark all as complete</label>\n                    <ul class=\"todo-list\">\n                        <!-- These are here just to show the structure of the list items -->\n                        <!-- List items should get the class \\`editing\\` when editing and \\`completed\\` when marked as completed -->\n                        ${todos\n                                .map(\n                                    (todo, index) => (\n                                        (todo.index = index), todo\n                                    )\n                                )\n                                .filter(\n                                    todo =>\n                                        filter === null ||\n                                        todo.completed === filter\n                                ).map(\n                            todo =>\n                                html`\n                            <li class=${todo.completed ? 'completed' : ''}>\n                                <div\n                                    class=\"view\"\n                                >\n                                    <input\n                                        class=\"toggle\"\n                                        type=\"checkbox\"\n                                        checked=${todo.completed}\n                                        onClick=${prevented(() =>\n                                            this.switchCompleted(todo.index)\n                                        )}\n                                    />\n                                    <label onClick=${prevented(() =>\n                                        this.switchCompleted(todo.index)\n                                    )}>${todo.text}</label>\n                                    <button class=\"destroy\" onClick=${prevented(\n                                        () => this.handleDeleteTodo(todo)\n                                    )}></button>\n                                </div>\n                                <input class=\"edit\" value=${todo.text} />\n                            </li>\n                        `.withKey(todo.id)\n                        )}\n                    </ul>\n                </section>\n                <!-- This footer should hidden by default and shown when there are todos -->\n                <footer class=\"footer\">\n                    <!-- This should be \\`0 items left\\` by default -->\n                    <span class=\"todo-count\">\n                        <strong>${todos.filter(todo => !todo.completed).length}\n                        </strong> item left\n                    </span>\n\n                    <ul class=\"filters\">\n                        <li>\n                            <a\n                                class=${filter === null && 'selected'}\n                                href=\"#/\"\n                                onClick=${prevented(() => this.setFilter(null))}\n                            >\n                                All\n                            </a>\n                        </li>\n                        <li>\n                            <a\n                                class=${filter === false && 'selected'}\n                                href=\"#/active\"\n                                onClick=${prevented(() =>\n                                    this.setFilter(false)\n                                )}\n                            >\n                                Active\n                            </a>\n                        </li>\n                        <li>\n                            <a\n                                class=${filter && 'selected'}\n                                href=\"#/completed\"\n                                onClick=${prevented(() => this.setFilter(true))}\n                            >\n                                Completed\n                            </a>\n                        </li>\n                    </ul>\n                    <!-- Hidden if no completed items are left ↓ -->\n                    <button class=\"clear-completed\" onClick=${prevented(() =>\n                        this.handleClearCompleted()\n                    )}>Clear completed</button>\n                    <button class=\"clear-completed shuffle\" onClick=${prevented(\n                        () =>\n                            this.setState({ todos: shuffle(this.state.todos) })\n                    )}>Shuffle</button>\n                </footer>\n            </section>\n            <footer class=\"info\">\n                <p>Double-click to edit a todo</p>\n                <!-- Change this out with your name and url ↓ -->\n                <p>Created by <a href=\"http://todomvc.com\">you</a></p>\n                <p>Part of <a href=\"http://todomvc.com\">TodoMVC</a></p>\n            </footer>\n        `;\n    }\n}\n\ncustomElements.define(TodoMVC.is, TodoMVC);\n","import { html } from '@tiny-lit/core/lib/cjs';\nimport { Element } from '@tiny-lit/element/lib/cjs';\n\nconst targetSize = 25;\n\nfunction rafInterval(fn) {\n    let running = true;\n\n    function run() {\n        fn();\n        running && requestAnimationFrame(run);\n    }\n\n    requestAnimationFrame(run);\n\n    return () => (running = false);\n}\n\nclass KarpinskyDot extends Element {\n    static get is() {\n        return 'karpinsky-dot';\n    }\n\n    static get properties() {\n        return {\n            x: Number,\n            y: Number,\n            size: Number,\n            text: String,\n            hover: Boolean,\n        };\n    }\n\n    x = 0;\n    y = 0;\n    size = 0;\n    text = '';\n    hover = false;\n\n    constructor() {\n        super();\n\n        // this.addEventListener('mouseover', () => this.setState({ hover: true }));\n        // this.addEventListener('mouseleave', () => this.setState({ hover: false }));\n        this.addEventListener('mouseover', () => (this.hover = true));\n        this.addEventListener('mouseleave', () => (this.hover = false));\n    }\n\n    getStyle() {\n        const { x, y, size } = this;\n        const hover = this.hover;\n        const s = size * 1.3;\n\n        return `\n            position: absolute;\n            font: normal 15px sans-serif;\n            text-align: center;\n            cursor: pointer;\n            width: ${s}px;\n            height: ${s}px;\n            left: ${x}px;\n            top: ${y}px;\n            border-radius: ${s / 2}px;\n            line-height: ${s}px;\n            background: ${hover ? '#ff0' : '#61dafb'};\n        `;\n    }\n\n    getTemplate() {\n        const { hover, text } = this;\n\n        return html`<span style=${this.getStyle()}>\n                        ${hover ? '**' + text + '**' : text}\n                    </span>`;\n    }\n}\n\nclass KarpinskyTriangle extends Element {\n    static get is() {\n        return 'karpinsky-triangle';\n    }\n\n    static get properties() {\n        return {\n            x: Number,\n            y: Number,\n            s: Number,\n            seconds: Number,\n        };\n    }\n    x = 0;\n    y = 0;\n    s = 0;\n    seconds = 0;\n\n    getTemplate() {\n        let { s, seconds, x, y } = this;\n\n        if (s <= targetSize) {\n            return html`\n                <karpinsky-dot x=${x - targetSize / 2} y=${y -\n                targetSize / 2} size=${targetSize} text=${seconds} />\n            `;\n        }\n\n        s = s / 2;\n\n        let slowDown = true;\n        if (slowDown) {\n            let e = performance.now() + 0.8;\n            while (performance.now() < e) {\n                // Artificially long execution time.\n            }\n        }\n\n        return html`\n            <karpinsky-triangle x=${x} y=${y -\n            s / 2} s=${s} seconds=${seconds}></karpinsky-triangle>\n            <karpinsky-triangle x=${x - s} y=${y +\n            s / 2} s=${s} seconds=${seconds}></karpinsky-triangle>\n            <karpinsky-triangle x=${x + s} y=${y +\n            s / 2} s=${s} seconds=${seconds}></karpinsky-triangle>\n        `;\n    }\n}\n\nclass KarpinskyDemo extends Element {\n    static get is() {\n        return 'karpinsky-demo';\n    }\n\n    connectedCallback() {\n        this.start = Date.now();\n        this.timerInterval = setInterval(this.tick.bind(this), 1000);\n        this.renderInterval = rafInterval(this.render);\n        this.setState({\n            seconds: 0,\n        });\n    }\n\n    disconnectedCallback() {\n        this.renderInterval();\n        clearInterval(this.timerInterval);\n    }\n\n    tick() {\n        this.setState({\n            seconds: (this.state.seconds % 10) + 1,\n        });\n    }\n\n    getStyle() {\n        const elapsed = Date.now() - this.start;\n        const t = (elapsed / 1000) % 10;\n        const scale = 1 + (t > 5 ? 10 - t : t) / 10;\n\n        return `\n            position: absolute;\n            transform-origin: 0 0;\n            width: 10px;\n            height: 10px;\n            left: 50%;\n            top: 50%;\n            background: #eee;\n            transform: scaleX(${scale / 2.1}) scaleY(0.7) translateZ(0.1px) translateX(50%)\n        `;\n    }\n\n    getTemplate() {\n        const { seconds } = this.state;\n\n        return html`\n            <div style=${this.getStyle()}>\n                <karpinsky-triangle x=${0} y=${0} s=${1000} seconds=${seconds} />\n            </div>\n        `;\n    }\n}\n\ncustomElements.define(KarpinskyTriangle.is, KarpinskyTriangle);\ncustomElements.define(KarpinskyDot.is, KarpinskyDot);\ncustomElements.define(KarpinskyDemo.is, KarpinskyDemo);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar StoreEvents;\n(function (StoreEvents) {\n    StoreEvents[\"Request\"] = \"store::request\";\n    StoreEvents[\"Dispatch\"] = \"store::dispatch\";\n    StoreEvents[\"Update\"] = \"store::update\";\n})(StoreEvents = exports.StoreEvents || (exports.StoreEvents = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar types_1 = require(\"./types\");\nfunction normalizeEvent(fn) {\n    return function (event, data) {\n        if (typeof event === 'string')\n            event = { type: event, data: data };\n        return fn(event);\n    };\n}\nexports.normalizeEvent = normalizeEvent;\nfunction requestStore(el) {\n    var event = new CustomEvent(types_1.StoreEvents.Request, { detail: {} });\n    el.dispatchEvent(event);\n    return event.detail.store;\n}\nexports.requestStore = requestStore;\nfunction createUpdateEvent(state, mutation) {\n    return new CustomEvent(types_1.StoreEvents.Update, {\n        detail: {\n            state: state,\n            mutation: mutation,\n        },\n    });\n}\nexports.createUpdateEvent = createUpdateEvent;\nfunction createDispatchEvent(type, data) {\n    return new CustomEvent(types_1.StoreEvents.Dispatch, {\n        detail: {\n            type: type,\n            data: data,\n        },\n    });\n}\nexports.createDispatchEvent = createDispatchEvent;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _a;\n\"use strict\";\nvar events_1 = require(\"./events\");\nvar StateProp = Symbol();\nvar Store = (function () {\n    function Store(store) {\n        var _this = this;\n        this[_a] = {};\n        this.listeners = new Set();\n        this.dispatch = events_1.normalizeEvent(function (action) {\n            var actions = _this.config.actions;\n            if (action.type in actions)\n                actions[action.type](_this, action.data);\n        });\n        this.commit = events_1.normalizeEvent(function (mutation) {\n            var mutations = _this.config.mutations;\n            if (mutation.type in mutations)\n                mutations[mutation.type](_this.state, mutation.data);\n            _this.listeners.forEach(function (listener) { return listener(mutation); });\n        });\n        this.config = __assign({ mutations: {}, actions: {}, initialState: {}, plugins: [] }, store);\n        this[StateProp] = this.config.initialState;\n        this.config.plugins.forEach(function (plugin) { return plugin(_this); });\n    }\n    Object.defineProperty(Store.prototype, \"state\", {\n        get: function () {\n            return this[StateProp];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Store.prototype.subscribe = function (callback) {\n        var _this = this;\n        var listeners = this.listeners;\n        var handler = function (mutation) { return callback(_this.state, mutation); };\n        listeners.add(handler);\n        callback(this.state);\n        return function () { return listeners.delete(handler); };\n    };\n    return Store;\n}());\n_a = StateProp;\nexports.Store = Store;\nexports.createStore = function (store) {\n    return new Store(store);\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar types_1 = require(\"./types\");\nvar events_1 = require(\"./events\");\nfunction withStore(Base) {\n    return (function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        class_1.prototype.connectedCallback = function () {\n            var _this = this;\n            if (_super.prototype.connectedCallback)\n                _super.prototype.connectedCallback.call(this);\n            var store;\n            if (store = events_1.requestStore(this)) {\n                var handler = function (e) {\n                    return _this.onStateChange(e.detail.state, e.detail.mutation);\n                };\n                store.addEventListener(types_1.StoreEvents.Update, handler, true);\n                this.unsubscribe = store.removeEventListener.bind(this, types_1.StoreEvents.Update, handler, true);\n                this.onStateChange(store.getStore().state);\n            }\n        };\n        class_1.prototype.disconnectedCallback = function () {\n            if (_super.prototype.disconnectedCallback)\n                _super.prototype.disconnectedCallback.call(this);\n            this.unsubscribe();\n        };\n        class_1.prototype.onStoreConnect = function () { };\n        class_1.prototype.onStateChange = function (_, __) { };\n        class_1.prototype.dispatch = function (type, data) {\n            this.dispatchEvent(events_1.createDispatchEvent(type, data));\n        };\n        return class_1;\n    }(Base));\n}\nexports.withStore = withStore;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar types_1 = require(\"./types\");\nvar events_1 = require(\"./events\");\nvar store_1 = require(\"./store\");\nvar StoreProvider = (function (_super) {\n    __extends(StoreProvider, _super);\n    function StoreProvider() {\n        var _this = _super.call(this) || this;\n        _this.store = undefined;\n        _this.listeners = new WeakMap();\n        _this.onStateChange = function (state, mutation) {\n            return _this.dispatchEvent(events_1.createUpdateEvent(state, mutation));\n        };\n        _this.onStoreRequest = function (event) {\n            event.stopPropagation();\n            event.detail.store = _this;\n        };\n        _this.onStoreDispatch = function (event) {\n            _this.getStore().dispatch(event.detail);\n        };\n        _this.addEventListener(types_1.StoreEvents.Request, _this.onStoreRequest, true);\n        _this.addEventListener(types_1.StoreEvents.Dispatch, _this.onStoreDispatch, true);\n        _this.store = store_1.createStore(_this.config);\n        _this.store.subscribe(_this.onStateChange);\n        return _this;\n    }\n    Object.defineProperty(StoreProvider.prototype, \"config\", {\n        get: function () {\n            return {};\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StoreProvider.prototype.getStore = function () {\n        return this.store;\n    };\n    return StoreProvider;\n}(HTMLElement));\nexports.StoreProvider = StoreProvider;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./store\"));\n__export(require(\"./withStore\"));\n__export(require(\"./StoreProvider\"));\n__export(require(\"./types\"));\n","import { StoreProvider, withStore, createStore } from '@tiny-lit/store/lib/cjs';\nimport { html } from '@tiny-lit/core/lib/cjs';\nimport { Element } from '@tiny-lit/element/lib/cjs';\n\nconst JSONObject = value => {\n    if (typeof value !== object) {\n        try {\n            value = JSON.parse(value);\n        } catch (e) {}\n    }\n    return value;\n};\n\nconst Items = [\n    {\n        name: 'Men+s+Tech+Shell+Full-Zip',\n        title: \"Men's Tech Shell Full-Zip\",\n        category: 'mens_outerwear',\n        price: 50.2\n    },\n    {\n        name: 'Anvil+L+S+Crew+Neck+-+Grey',\n        title: 'Anvil L/S Crew Neck - Grey',\n        category: 'mens_outerwear',\n        price: 22.15\n    },\n    {\n        name: 'Green+Flex+Fleece+Zip+Hoodie',\n        title: 'Green Flex Fleece Zip Hoodie',\n        category: 'mens_outerwear',\n        price: 45.65\n    },\n    {\n        name: 'Android+Nylon+Packable+Jacket',\n        title: 'Android Nylon Packable Jacket',\n        category: 'mens_outerwear',\n        price: 33.6\n    },\n    {\n        name: 'YouTube+Ultimate+Hooded+Sweatshirt',\n        title: 'YouTube Ultimate Hooded Sweatshirt',\n        category: 'mens_outerwear',\n        price: 32.35\n    },\n    {\n        name: 'Grey+Heather+Fleece+Zip+Hoodie',\n        title: 'Grey Heather Fleece Zip Hoodie',\n        category: 'mens_outerwear',\n        price: 38.85\n    },\n    {\n        name: 'Vastrm+Hoodie',\n        title: 'Vastrm Hoodie',\n        category: 'mens_outerwear',\n        price: 200.0\n    },\n    {\n        name: 'Recycled+Plastic+Bottle+Hoodie+-+Green',\n        title: 'Recycled Plastic Bottle Hoodie - Green',\n        category: 'mens_outerwear',\n        price: 60.95\n    },\n    {\n        name: 'Rowan+Pullover+Hood',\n        title: 'Rowan Pullover Hood',\n        category: 'mens_outerwear',\n        price: 60.85\n    },\n    {\n        name: 'Men+s+Voyage+Fleece+Jacket',\n        title: \"Men's Voyage Fleece Jacket\",\n        category: 'mens_outerwear',\n        price: 48.0\n    },\n    {\n        name: 'Eco-Jersey+Chrome+Zip+Up+Hoodie',\n        title: 'Eco-Jersey Chrome Zip Up Hoodie',\n        category: 'mens_outerwear',\n        price: 37.75\n    },\n    {\n        name: 'Android+Colorblock+Hooded+Pullover',\n        title: 'Android Colorblock Hooded Pullover',\n        category: 'mens_outerwear',\n        price: 50.2\n    },\n    {\n        name: 'Tri-blend+Full-Zip+Hoodie',\n        title: 'Tri-blend Full-Zip Hoodie',\n        category: 'mens_outerwear',\n        price: 52.2\n    },\n    {\n        name: 'Fleece+Full-Zip+Hoodie',\n        title: 'Fleece Full-Zip Hoodie',\n        category: 'mens_outerwear',\n        price: 45.65\n    },\n    {\n        name: 'Jacquard-Knit+Full-Zip+Fleece',\n        title: 'Jacquard-Knit Full-Zip Fleece',\n        category: 'mens_outerwear',\n        price: 74.9\n    },\n    {\n        name: 'YouTube+Unisex+Flex+Fleece+Zip+Hoodie',\n        title: 'YouTube Unisex Flex Fleece Zip Hoodie',\n        category: 'mens_outerwear',\n        price: 45.25\n    }\n];\n\nconst ElementWithStore = withStore(Element);\n\nclass MyStore extends StoreProvider {\n    static get is() {\n        return 'my-store';\n    }\n\n    get config() {\n        return {\n            initialState: {\n                cart: [],\n                count: 0\n            },\n            plugins: [store => store.subscribe(console.log)],\n            actions: {\n                addToCart({ commit }, item) {\n                    commit('addItem', item);\n                    commit('updateCount');\n                },\n                removeFromCart({ commit }, item) {\n                    commit('removeItemByIndex', item);\n                    commit('updateCount');\n                },\n                removeAllFromCart({ commit, state }) {\n                    let items = state.cart;\n\n                    items.forEach(item => commit('removeItem', item));\n\n                    commit('updateCount');\n                }\n            },\n            mutations: {\n                addItem(state, data) {\n                    state.cart.push(data);\n                },\n                removeItemByIndex(state, data) {\n                    state.cart.splice(data, 1);\n                },\n                removeItem(state, item) {\n                    state.cart = state.cart.filter(i => i !== item);\n                },\n                updateCount(state) {\n                    state.count = state.cart.length;\n                }\n            }\n        };\n    }\n}\ncustomElements.define(MyStore.is, MyStore);\n\nclass Basket extends ElementWithStore {\n    constructor() {\n        super();\n        this.count = 0;\n        this.items = [];\n    }\n\n    static get properties() {\n        return {\n            count: Number,\n            items: Object\n        };\n    }\n\n    onStateChange(state) {\n        this.count = state.count;\n        this.items = state.cart;\n    }\n\n    static get is() {\n        return 'shop-basket';\n    }\n\n    handleRemove(index) {\n        this.dispatch('removeFromCart', index);\n    }\n\n    handleRemoveAll() {\n        this.dispatch('removeAllFromCart');\n    }\n\n    getTemplate() {\n        return html`\n            <style>\n                .basket {\n                    position: fixed;\n                    bottom: 0;\n                    right: 0;\n                    padding: 20px 50px;\n                    background: rgba(0,0,0,0.8);\n                    color: white;\n                }\n            </style>\n            <div class=\"basket\">\n                Basket<br />\n                Total: ${this.count}\n\n                <ul>\n                    ${this.items.map(\n                        (item, index) => html`\n                        <li>\n                            <button onCLick=${() =>\n                                this.handleRemove(index)}>X</button>\n                            ${item.title}\n                        </li>\n                    `\n                    )}\n                </ul>\n\n                ${\n                    this.items.length\n                        ? html`<button onClick=${() =>\n                              this.handleRemoveAll()}>remove all</button>`\n                        : null\n                }\n            </div>\n        `;\n    }\n}\ncustomElements.define(Basket.is, Basket);\n\nclass Item extends ElementWithStore {\n    item = {};\n\n    static get is() {\n        return 'shop-item';\n    }\n\n    static get properties() {\n        return {\n            c: JSONObject\n        };\n    }\n\n    handleClick = () => {\n        this.dispatch('addToCart', this.item);\n    };\n\n    getTemplate() {\n        return html`\n            <div class=\"detail\" has-content=\"\">\n                <img\n                    src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw\"\n                    width=\"300\"\n                    height=\"300\"\n                    class=\"image\"\n                />\n                <h1>${this.item.title}</h1>\n                <div class=\"price\">${this.item.price}$</div>\n                <button\n                    onClick=${this.handleClick}\n                    class=\"button\"\n                    aria-label=\"Add this item to cart\"\n                >\n                    Add to Cart\n                </button>\n            </div>\n        `;\n    }\n}\ncustomElements.define(Item.is, Item);\n\nclass StoreDemo extends Element {\n    static get is() {\n        return 'store-demo';\n    }\n\n    getTemplate() {\n        return html`\n            <style>\n                h1 {\n                    font-size: 13px;\n                    font-weight: 500;\n                    line-height: 28px;\n                    margin: 0;\n                }\n                .detail {\n                    text-align:center;\n                    margin: 0 28px 48px;\n                }\n                .price {\n                    margin: 0px 0 10px;\n                    font-size: 13px;\n                    color: rgb(117, 117, 117);\n                }\n                .image {\n                    max-width: 100%;\n                    background: rgb(117, 117, 117);\n                }\n                .button {\n                    display: inline-block;\n                    box-sizing: border-box;\n                    border: 2px solid #000;\n                    background-color: #FFF;\n                    font-size: 14px;\n                    font-weight: 500;\n                    color: var(--app-primary-color);\n                    margin: 0;\n                    padding: 8px 44px;\n                    text-align: center;\n                    text-decoration: none;\n                    text-transform: uppercase;\n                    border-radius: 0;\n                    outline: none;\n                    -webkit-appearance: none;\n                }\n                my-store {\n                    display: flex;\n                    flex-wrap: wrap;\n                }\n                shop-item {\n                    flex: 1 1;\n                    flex-basis: 33%;\n                    max-width: 33%;\n                }\n            </style>\n            <my-store>\n                <shop-basket></shop-basket>\n                ${Items.map(item => html`<shop-item item=${item}></shop-item>`)}\n            </my-store>\n        `;\n    }\n}\n\ncustomElements.define(StoreDemo.is, StoreDemo);\n","const ParamsRegex = /\\/:([\\w]+)(?:{([\\w,]+)})?(\\?)?/g;\nfunction pathToRegex(path) {\n    let m, pattern = path;\n    if (path === '*') {\n        return /.*/;\n    }\n    while ((m = ParamsRegex.exec(path))) {\n        const paramRegex = m.groups[2]\n            ? `${m.groups[2].split(',').join('|')}`\n            : '[^/]+';\n        pattern = pattern.replace(m[0], `(?:\\\\/(?<${m.groups[1]}>${paramRegex}))${m.groups[3] ? '?' : ''}`);\n    }\n    return new RegExp(`^${pattern}$`);\n}\nexport class Router {\n    constructor({ interceptLocal }) {\n        this.routes = new Map();\n        this.handleLocalClick = e => {\n            const target = e.target;\n            if (target.nodeName === 'A' &&\n                target.href.indexOf(location.origin) === 0) {\n                e.preventDefault();\n                e.stopImmediatePropagation();\n                this.goTo(target.getAttribute('href'));\n            }\n        };\n        this.resolve = () => {\n            const path = location.pathname, current = this.current;\n            this.routes.forEach(route => {\n                const match = path.match(route.regex);\n                if (match) {\n                    if (current !== route) {\n                        this.current = route;\n                        if (current && current.onLeave)\n                            current.onLeave(match.groups);\n                        route.onEnter && route.onEnter(match.groups);\n                    }\n                    else {\n                        route.onUpdate && route.onUpdate(match.groups);\n                    }\n                }\n            });\n            return this;\n        };\n        window.addEventListener('popstate', this.resolve);\n        if (interceptLocal) {\n            document.addEventListener('click', this.handleLocalClick, true);\n        }\n    }\n    on(path, { onEnter, onLeave, onUpdate }) {\n        this.routes.set(path, {\n            regex: pathToRegex(path),\n            onEnter,\n            onLeave,\n            onUpdate\n        });\n        return this;\n    }\n    off(path) {\n        this.routes.delete(path);\n        return this;\n    }\n    goTo(path) {\n        history.pushState(null, document.title, path);\n        this.resolve();\n        return this;\n    }\n}\n","export var RouterEvents;\n(function (RouterEvents) {\n    RouterEvents[\"Request\"] = \"router::request\";\n    RouterEvents[\"Change\"] = \"router::change\";\n})(RouterEvents || (RouterEvents = {}));\n","import { RouterEvents } from \"./types\";\nexport function requestRouter(el) {\n    const event = new CustomEvent(RouterEvents.Request, { detail: {} });\n    el.dispatchEvent(event);\n    return event.detail.router;\n}\n","import { requestRouter } from './events';\nfunction updateComponentParams(component, params) {\n    for (const key in params)\n        component.setAttribute(key, params[key]);\n}\nexport class RouteElement extends HTMLElement {\n    connectedCallback() {\n        if ((this.router = requestRouter(this))) {\n            const path = this.getAttribute('path'), componentName = this.getAttribute('component');\n            if (!path || !componentName)\n                return;\n            const component = document.createElement(componentName);\n            this.router.on(path, {\n                onEnter: params => {\n                    updateComponentParams(component, params);\n                    this.appendChild(component);\n                    if (component.onRouteEnter)\n                        component.onRouteEnter(params);\n                },\n                onUpdate: params => {\n                    updateComponentParams(component, params);\n                    if (component.onRouteUpdate)\n                        component.onRouteUpdate(params);\n                },\n                onLeave: () => {\n                    this.removeChild(component);\n                    if (component.onRouteLeave)\n                        component.onRouteLeave();\n                }\n            });\n        }\n    }\n    disconnectedCallback() {\n        const path = this.getAttribute('path');\n        if (this.router && path)\n            this.router.off(path);\n    }\n}\n","import { Router } from './router';\nimport { RouterEvents } from './types';\nexport class RouterProvider extends HTMLElement {\n    constructor() {\n        super();\n        this.onRouterRequest = (e) => {\n            e.detail.router = this.router;\n        };\n        this.router = new Router({ interceptLocal: true });\n    }\n    connectedCallback() {\n        document.body.addEventListener(RouterEvents.Request, this.onRouterRequest, true);\n        requestAnimationFrame(() => this.router.resolve());\n    }\n    disconnectedCallback() {\n        document.body.removeEventListener(RouterEvents.Request, this.onRouterRequest, true);\n    }\n}\n","export { Router } from './router';\nexport { RouteElement } from './RouteElement';\nexport { RouterProvider } from './RouterProvider';\n","import './todo';\nimport './karpinsky';\nimport './store';\n\nimport { RouterProvider, RouteElement } from '@tiny-lit/router';\n\ncustomElements.define('demo-router', RouterProvider);\ncustomElements.define('demo-route', RouteElement);\n"]}