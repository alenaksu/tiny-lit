{"version":3,"sources":["../node_modules/@tiny-lit/element/dist/withProps.js","../node_modules/@tiny-lit/core/dist/utils.js","../node_modules/@tiny-lit/core/dist/scheduler.js","../node_modules/@tiny-lit/core/dist/expressions.js","../node_modules/@tiny-lit/core/dist/linker.js","../node_modules/@tiny-lit/core/dist/parser.js","../node_modules/@tiny-lit/core/dist/template.js","../node_modules/@tiny-lit/core/dist/index.js","../node_modules/@tiny-lit/element/dist/withElement.js","../node_modules/@tiny-lit/element/dist/Element.js","../node_modules/@tiny-lit/element/dist/index.js","../src/todo/style.js","../node_modules/secchiojs/lib/index.js","../src/todo/index.js","../src/scheduler/Dot.js","../src/scheduler/Triangle.js","../src/scheduler/index.js","../node_modules/@tiny-lit/store/dist/types.js","../node_modules/@tiny-lit/store/dist/events.js","../node_modules/@tiny-lit/store/dist/store.js","../node_modules/@tiny-lit/store/dist/withStore.js","../node_modules/@tiny-lit/store/dist/StoreProvider.js","../node_modules/@tiny-lit/store/dist/index.js","../src/store/index.js","../src/svg/index.js","../node_modules/@tiny-lit/router/dist/history/hash.js","../node_modules/@tiny-lit/router/dist/history/path.js","../node_modules/@tiny-lit/router/dist/history/index.js","../node_modules/@tiny-lit/router/dist/router.js","../node_modules/@tiny-lit/router/dist/types.js","../node_modules/@tiny-lit/router/dist/events.js","../node_modules/@tiny-lit/router/dist/RouteElement.js","../node_modules/@tiny-lit/router/dist/RouterProvider.js","../node_modules/@tiny-lit/router/dist/index.js","../src/index.js"],"names":["createChangeCallback","name","defaultName","charAt","toUpperCase","slice","args","normalizeDescriptor","descriptor","type","call","onChange","defineProp","prototype","propertyDescriptor","Object","defineProperty","get","__props","set","newValue","oldValue","rendered","update","defineProps","constructor","__attrs","properties","attrsMap","create","props","proto","propertyName","replace","toLowerCase","keys","withProps","Base","arguments","observedAttributes","attributeChangedCallback","_","attributes","propName","comment","data","document","createComment","text","createTextNode","isNode","obj","nodeType","isPrimitive","val","replaceRange","newNode","range","startNode","endNode","concat","parentNode","nextSibling","removeNodes","replaceChild","parent","nextNode","removeChild","moveTemplate","template","after","before","node","insertBefore","getNodeIndex","index","previousSibling","getNodePath","path","unshift","getNodeByPath","i","l","length","childNodes","TemplateSymbol","Symbol","isSameTemplate","t1","t2","isTemplate","strings","MARKER_PREFIX","Math","random","toString","MARKER_RE","RegExp","TEXT_ELEMENT","markerNumber","value","m","exec","lastIndex","Number","jobsQueue","jobsQueueLow","JOB_WINDOW","JOB_MAX_WAIT","raf","window","requestAnimationFrame","flushPending","queueAge","enabled","flushQueue","queue","timeout","Date","now","job","task","undefined","scheduled","splice","flush","ceil","push","setEnabled","enqueueJob","priority","firstRun","AttributeExpression","element","namespaceURI","requestUpdate","setAttributeNS","setAttribute","hasAttribute","removeAttribute","NodeExpression","updateText","Array","isArray","updateArray","updateTemplate","values","replaceWith","placeholder","items","templates","Map","currentNode","Set","item","key","String","add","forEach","map","has","delete","clear","Node","TEXT_NODE","textContent","treeWalkerFilter","NodeFilter","FILTER_ACCEPT","linkAttributes","linkedExpressions","attrs","nodePath","linkComment","nodeValue","linkTexts","keyNode","splitText","deleteData","linkExpressions","root","treeWalker","createTreeWalker","SHOW_ELEMENT","SHOW_COMMENT","ELEMENT_NODE","test","tagName","childNode","resolve","fragment","symbols","symbol","acceptNode","TemplateCache","WeakMap","createCacheEntry","html","context","createElement","innerHTML","content","createRange","selectNodeContents","firstChild","extractContents","expressions","toHTML","NODE_RE","isAttribute","marker","match","parseTemplate","cacheEntry","importNode","_a","Template","withKey","appendChild","render","container","instances","svg","withElement","state","renderCallbacks","renderRoot","_onUpdated","shift","updated","firstUpdated","attachShadow","shadowRootInitDict","connectedCallback","setState","nextState","callback","assign","beforeUpdate","Element","HTMLElement","defer","requestIdleCallback","isExpired","entry","expire","timestamp","isSameVersion","version","setItem","storage","JSON","stringify","getItem","options","cached","parse","removeItem","getBucket","localStorage","defaultValue","prevented","f","e","stopPropagation","preventDefault","getTodos","setTodos","todos","filter","shuffle","array","counter","floor","temp","TodoMVC","mode","is","setFilter","completed","handleAddTodo","target","elements","id","substr","reset","handleDeleteTodo","remove","todo","switchCompleted","handleClearCompleted","console","time","timeEnd","style","customElements","define","SierpinskiDot","x","y","size","hover","Boolean","addEventListener","s","targetSize","SierpinskiTriangle","seconds","renderTemplate","performance","rafInterval","fn","running","run","SchedulerDemo","elapsed","start","timerInterval","setInterval","tick","bind","renderInterval","disconnectedCallback","clearInterval","getTransform","t","StoreEvents","normalizeEvent","event","requestStore","el","CustomEvent","Request","detail","dispatchEvent","store","createUpdateEvent","mutation","Update","createDispatchEvent","Dispatch","StateProp","objToMap","Store","config","mutations","actions","listeners","dispatch","action","commit","listener","initialState","plugins","plugin","subscribe","handler","createStore","withStore","onStateChange","unsubscribe","removeEventListener","getStore","onStoreConnect","__","StoreProvider","onStoreRequest","onStoreDispatch","JSONObject","Items","title","category","price","ElementWithStore","MyStore","getAttribute","cart","count","log","addToCart","removeFromCart","removeAllFromCart","addItem","removeItemByIndex","a","updateCount","Basket","toggleCart","open","handleRemove","handleRemoveAll","Item","handleClick","StoreDemo","c","Svg","radius","maxRadius","interval","abs","sin","location","hash","substring","go","listen","pathname","history","pushState","Event","ParamsRegex","parsePath","params","pattern","regex","paramRegex","split","join","Router","interceptLocals","useHash","routes","handleLocalClick","nodeName","href","indexOf","origin","goTo","current","some","route","onEnter","onUpdate","callbacks","reduce","onLeave","on","r","RouterEvents","requestRouter","router","importedModules","importModule","url","Promise","script","onload","src","head","waitComponent","component","then","whenDefined","localName","RouteElement","componentName","dispose","onRouteEnter","onRouteUpdate","onRouteLeave","RouterProvider","onRouterRequest","body"],"mappings":"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","file":"src.26c85216.js","sourceRoot":"../../packages/demo/public","sourcesContent":["function createChangeCallback(name) {\n    const defaultName = `on${name.charAt(0).toUpperCase()}${name.slice(1)}Changed`;\n    return function (...args) {\n        this[defaultName] && this[defaultName](...args);\n    };\n}\nfunction normalizeDescriptor(name, descriptor) {\n    return {\n        type: descriptor.call ? descriptor : descriptor.type,\n        onChange: descriptor.onChange === true\n            ? createChangeCallback(name)\n            : descriptor.onChange\n    };\n}\nfunction defineProp(prototype, name, propertyDescriptor) {\n    Object.defineProperty(prototype, name, {\n        get() {\n            return this.__props[name];\n        },\n        set(newValue) {\n            const oldValue = this[name];\n            this.__props[name] = newValue;\n            if (this.rendered && oldValue !== newValue) {\n                if (propertyDescriptor.onChange)\n                    propertyDescriptor.onChange.call(this, newValue, oldValue);\n                this.update();\n            }\n        }\n    });\n}\nfunction defineProps(constructor) {\n    if (!constructor.__attrs) {\n        const properties = constructor.properties || {};\n        const attrsMap = Object.create(null);\n        const props = Object.create(null);\n        const proto = constructor.prototype;\n        for (const propertyName in properties) {\n            const propertyDescriptor = normalizeDescriptor(propertyName, properties[propertyName]);\n            const attrName = propertyName\n                .replace(/([a-z])([A-Z])/g, '$1-$2')\n                .toLowerCase();\n            attrsMap[attrName] = propertyName;\n            props[propertyName] = propertyDescriptor;\n            defineProp(proto, propertyName, propertyDescriptor);\n        }\n        constructor.__attrs = attrsMap;\n        constructor.__props = props;\n    }\n    return Object.keys(constructor.__attrs);\n}\nexport function withProps(Base) {\n    return class extends Base {\n        constructor() {\n            super(...arguments);\n            this.__props = Object.create(null);\n        }\n        static get observedAttributes() {\n            return defineProps(this);\n        }\n        attributeChangedCallback(name, _, newValue) {\n            const { __attrs: attributes, __props: properties } = (this.constructor);\n            if (properties && attributes && name in properties) {\n                const propName = attributes[name];\n                this[propName] = properties[propName].type(newValue);\n            }\n        }\n    };\n}\n","export function comment(data = '') {\n    return document.createComment(data);\n}\nexport function text(data = '') {\n    return document.createTextNode(data);\n}\nexport function isNode(obj, type) {\n    return (!!obj &&\n        !!obj.nodeType &&\n        (!type || obj.nodeType === type));\n}\nexport function isPrimitive(val) {\n    return val !== Object(val);\n}\nexport function replaceRange(newNode, range) {\n    const [startNode, endNode] = [].concat(range);\n    if (!startNode.parentNode)\n        return;\n    if (endNode && startNode.nextSibling !== endNode) {\n        removeNodes(startNode.nextSibling, endNode);\n    }\n    startNode.parentNode.replaceChild(newNode, startNode);\n}\nexport function removeNodes(startNode, endNode = null, parent = startNode.parentNode) {\n    if (!parent)\n        return;\n    while (startNode !== endNode) {\n        const nextNode = startNode.nextSibling;\n        parent.removeChild(startNode);\n        startNode = nextNode;\n    }\n}\nexport function moveTemplate(template, after, parent = after.parentNode) {\n    const [startNode, endNode] = template.range;\n    const before = after.nextSibling;\n    let node = startNode;\n    do {\n        const nextNode = node.nextSibling;\n        parent.insertBefore(node, before);\n        node = nextNode;\n    } while (node !== endNode);\n    parent.insertBefore(endNode, before);\n}\nexport function getNodeIndex(node) {\n    let index = 0;\n    while ((node = node.previousSibling))\n        index++;\n    return index;\n}\nexport function getNodePath(node) {\n    const path = [];\n    while (node.parentNode) {\n        path.unshift(getNodeIndex(node));\n        node = node.parentNode;\n    }\n    return path;\n}\nexport function getNodeByPath(node, path) {\n    for (let i = 0, l = path.length; i < l; i++)\n        node = node.childNodes[path[i]];\n    return node;\n}\nexport const TemplateSymbol = Symbol();\nexport function isSameTemplate(t1, t2) {\n    return isTemplate(t1) && isTemplate(t2) && t1.strings === t2.strings;\n}\nexport function isTemplate(obj) {\n    return obj && obj[TemplateSymbol];\n}\nexport const MARKER_PREFIX = `__${Math.random().toString().slice(2)}_`;\nexport const MARKER_RE = new RegExp(`<!--${MARKER_PREFIX}(\\\\d+)-->|${MARKER_PREFIX}(\\\\d+)`);\nexport const TEXT_ELEMENT = /^(?:style|textarea)$/i;\nexport function markerNumber(value) {\n    const m = MARKER_RE.exec(value);\n    MARKER_RE.lastIndex = 0;\n    return m ? Number(m[1] || m[2]) : -1;\n}\n","const jobsQueue = [];\nconst jobsQueueLow = [];\nconst JOB_WINDOW = 10;\nconst JOB_MAX_WAIT = 100;\nconst raf = window.requestAnimationFrame;\nlet flushPending = false;\nlet queueAge = 0;\nlet enabled = true;\nfunction flushQueue(queue, timeout) {\n    let i = 0;\n    const l = queue.length;\n    while (Date.now() < timeout && i < l) {\n        const job = queue[i++];\n        job.task(...job.args);\n        job.args = undefined;\n        job.scheduled = false;\n    }\n    queue.splice(0, i);\n}\nfunction flush() {\n    queueAge++;\n    const now = Date.now();\n    const timeSlice = JOB_WINDOW * Math.ceil(queueAge * (1.0 / JOB_MAX_WAIT));\n    const timeout = now + timeSlice;\n    flushQueue(jobsQueue, timeout);\n    flushQueue(jobsQueueLow, timeout);\n    if (jobsQueue.length > 0) {\n        jobsQueueLow.push(...jobsQueue);\n        jobsQueue.length = 0;\n    }\n    if (jobsQueueLow.length > 0)\n        raf(flush);\n    else {\n        flushPending = false;\n        queueAge = 0;\n    }\n}\nexport function setEnabled(value) {\n    enabled = value;\n}\nexport function enqueueJob(job, priority) {\n    job.scheduled = true;\n    if (priority === 1)\n        jobsQueue.push(job);\n    else if (priority === 0)\n        jobsQueueLow.push(job);\n    if (!flushPending) {\n        flushPending = true;\n        raf(flush);\n    }\n}\nexport function scheduled(task, priority = 1) {\n    const job = {\n        task,\n        args: [],\n        scheduled: false,\n        firstRun: true\n    };\n    return (...args) => {\n        if (job.firstRun || !enabled) {\n            job.firstRun = false;\n            task(...args);\n        }\n        else {\n            job.args = args;\n            if (!job.scheduled)\n                enqueueJob(job, priority);\n        }\n    };\n}\n","import { isNode, replaceRange, isTemplate, isSameTemplate, moveTemplate, text, isPrimitive } from './utils';\nimport { scheduled } from './scheduler';\nexport class AttributeExpression {\n    constructor(element, name, namespaceURI) {\n        this.element = element;\n        this.name = name;\n        this.namespaceURI = namespaceURI;\n        this.requestUpdate = scheduled((newValue) => {\n            const { name, element, namespaceURI } = this;\n            if ('ownerSVGElement' in element) {\n                element.setAttributeNS(namespaceURI, name, newValue);\n            }\n            else if (name in element) {\n                element[name] = newValue;\n            }\n            else if (typeof newValue !== 'undefined') {\n                element.setAttribute(name, newValue);\n            }\n            else {\n                element.hasAttribute(name) && element.removeAttribute(name);\n            }\n            this.value = newValue;\n        });\n    }\n    update(newValue) {\n        if (newValue === this.value)\n            return;\n        this.requestUpdate(newValue);\n    }\n}\nexport class NodeExpression {\n    constructor(element) {\n        this.requestUpdate = scheduled((newValue) => {\n            if (isPrimitive(newValue)) {\n                this.updateText(newValue);\n            }\n            else if (Array.isArray(newValue)) {\n                newValue = this.updateArray(newValue);\n            }\n            else if (isSameTemplate(newValue, this.element)) {\n                this.updateTemplate(newValue.values);\n            }\n            else {\n                this.replaceWith(newValue);\n            }\n            this.value = newValue;\n        });\n        this.element = this.placeholder = element;\n    }\n    updateArray(items) {\n        this.replaceWith(this.placeholder);\n        const templates = this.value instanceof Map ? this.value : new Map();\n        let currentNode = this.element;\n        const keys = new Set();\n        for (let i = 0, l = items.length; i < l; i++) {\n            const item = items[i];\n            const key = String(item.key || i);\n            let template = templates.get(key);\n            if (!template) {\n                const node = item.create();\n                currentNode.parentNode.insertBefore(node, currentNode.nextSibling);\n                templates.set(key, (template = item));\n            }\n            else if (!isSameTemplate(template, item)) {\n                replaceRange(item.create(), template.range);\n                templates.set(key, (template = item));\n            }\n            else {\n                template.update(item.values);\n            }\n            if (currentNode.nextSibling !== template.range[0]) {\n                moveTemplate(template, currentNode);\n            }\n            currentNode = template.range[1];\n            keys.add(key);\n        }\n        templates.forEach((template, key, map) => {\n            if (!keys.has(key)) {\n                template.delete();\n                map.delete(key);\n            }\n        });\n        return templates;\n    }\n    replaceWith(newValue) {\n        const { element, value, placeholder } = this;\n        if (newValue == null)\n            newValue = placeholder;\n        if (element !== newValue) {\n            if (value instanceof Map) {\n                value.forEach((template) => template.delete());\n                value.clear();\n            }\n            this.element = newValue;\n            replaceRange(isTemplate(newValue)\n                ? newValue.create()\n                : newValue, isTemplate(element)\n                ? element.range\n                : element);\n        }\n    }\n    updateText(value) {\n        if (!isNode(this.element, Node.TEXT_NODE)) {\n            this.replaceWith(text());\n        }\n        this.element.textContent = value;\n    }\n    updateTemplate(values) {\n        this.element.update(values);\n    }\n    update(newValue) {\n        if (newValue === this.value)\n            return;\n        this.requestUpdate(newValue);\n    }\n}\n","import { AttributeExpression, NodeExpression } from './expressions';\nimport { getNodePath, getNodeByPath, text, TEXT_ELEMENT, MARKER_RE, markerNumber, isNode } from './utils';\nfunction treeWalkerFilter() {\n    return NodeFilter.FILTER_ACCEPT;\n}\ntreeWalkerFilter.acceptNode = treeWalkerFilter;\nexport function linkAttributes(element, linkedExpressions) {\n    const attrs = element.attributes;\n    let i = attrs.length;\n    while (i--) {\n        const { name, value, namespaceURI } = attrs.item(i);\n        const m = markerNumber(value);\n        if (~m) {\n            element.removeAttribute(name);\n            linkedExpressions[m] = {\n                type: AttributeExpression,\n                name,\n                namespaceURI,\n                nodePath: getNodePath(element)\n            };\n        }\n    }\n}\nexport function linkComment(node, linkedExpressions) {\n    const m = markerNumber(node.data);\n    if (~m) {\n        linkedExpressions[m] = {\n            type: NodeExpression,\n            nodePath: getNodePath(node)\n        };\n        node.nodeValue = '';\n    }\n}\nexport function linkTexts(node, linkedExpressions) {\n    let m;\n    while ((m = MARKER_RE.exec(node.data)) !== null) {\n        const keyNode = text();\n        node = node.splitText(m.index);\n        node.deleteData(0, m[0].length);\n        node.parentNode.insertBefore(keyNode, node);\n        linkedExpressions[Number(m[1] || m[2])] = {\n            type: NodeExpression,\n            nodePath: getNodePath(keyNode)\n        };\n    }\n}\nexport function linkExpressions(root) {\n    const treeWalker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT, treeWalkerFilter, false);\n    const linkedExpressions = [];\n    while (treeWalker.nextNode()) {\n        const node = treeWalker.currentNode;\n        if (isNode(node, Node.ELEMENT_NODE)) {\n            linkAttributes(node, linkedExpressions);\n            if (TEXT_ELEMENT.test(node.tagName)) {\n                for (const childNode of node.childNodes) {\n                    linkTexts(childNode, linkedExpressions);\n                }\n            }\n        }\n        else\n            linkComment(node, linkedExpressions);\n    }\n    return linkedExpressions;\n}\nexport function resolve(fragment, symbols) {\n    return symbols.map((symbol) => new symbol.type(getNodeByPath(fragment, symbol.nodePath), symbol.name, symbol.namespaceURI));\n}\n","import { linkExpressions, resolve } from './linker';\nimport { MARKER_PREFIX } from './utils';\nconst TemplateCache = new WeakMap();\nfunction createCacheEntry(html, context) {\n    const template = document.createElement('template');\n    template.innerHTML = context ? `<${context}>${html}</${context}>` : html;\n    let content = template.content;\n    if (context) {\n        const range = document.createRange();\n        range.selectNodeContents(content.firstChild);\n        content = range.extractContents();\n    }\n    return {\n        content,\n        expressions: linkExpressions(content)\n    };\n}\nfunction toHTML(strings) {\n    const tagName = `[0-9a-z-]+`, attributeName = `[^<\\\\s\\\\0\"'>\\\\/=]+`, attributeValue = `(?:\"[^\"]*\"?|'[^']*'?|[^\\\\s'\">]*)`, attribute = `\\\\s*${attributeName}(?:\\\\s*=\\\\s*${attributeValue})?`, tagOpen = `<(${tagName})(?:${attribute})*\\\\s*(>?)`;\n    const NODE_RE = new RegExp(`^[^]*${tagOpen}|[^]*(>)[^]*|[^]*$`, 'i');\n    let isAttribute = false;\n    let html = strings[0];\n    for (let i = 0, l = strings.length; i < l - 1; i++) {\n        const marker = `${MARKER_PREFIX}${i}`;\n        const match = strings[i].match(NODE_RE);\n        if (match[1]) {\n            isAttribute = !match[2];\n        }\n        else if (match[3]) {\n            isAttribute = false;\n        }\n        html += (isAttribute ? marker : `<!--${marker}-->`) + strings[i + 1];\n    }\n    return html;\n}\nexport function parseTemplate(strings, context) {\n    let cacheEntry = TemplateCache.get(strings);\n    if (!cacheEntry) {\n        TemplateCache.set(strings, (cacheEntry = createCacheEntry(toHTML(strings), context)));\n    }\n    const fragment = document.importNode(cacheEntry.content, true);\n    const expressions = resolve(fragment, cacheEntry.expressions);\n    return {\n        fragment,\n        expressions\n    };\n}\n","var _a;\nimport { parseTemplate } from './parser';\nimport { TemplateSymbol, removeNodes, text } from './utils';\nexport class Template {\n    constructor(strings, values, context) {\n        this[_a] = true;\n        this.values = values;\n        this.strings = strings;\n        this.context = context;\n    }\n    withKey(key) {\n        this.key = key;\n        return this;\n    }\n    update(values) {\n        for (let i = 0; i < values.length; i++) {\n            if (this.expressions[i])\n                this.expressions[i].update(values[i]);\n        }\n    }\n    delete() {\n        removeNodes(this.range[0], this.range[1].nextSibling);\n        this.range = undefined;\n        this.expressions = undefined;\n    }\n    create() {\n        const { fragment, expressions } = parseTemplate(this.strings, this.context);\n        this.expressions = expressions;\n        this.range = [\n            fragment.insertBefore(text(), fragment.firstChild),\n            fragment.appendChild(text())\n        ];\n        this.update(this.values);\n        return fragment;\n    }\n}\n_a = TemplateSymbol;\n","export { Template } from './template';\nexport { scheduled } from './scheduler';\nimport { Template } from './template';\nimport { removeNodes } from './utils';\nexport function render(template, container) {\n    if (!render.instances.has(container)) {\n        render.instances.set(container, template);\n        removeNodes(container.firstChild, null, container);\n        container.appendChild(template.create());\n    }\n    else {\n        render.instances.get(container).update(template.values);\n    }\n}\nrender.instances = new WeakMap();\nexport function html(strings, ...values) {\n    return new Template(strings, values);\n}\nexport function svg(strings, ...values) {\n    return new Template(strings, values, 'svg');\n}\n","import { render, scheduled } from '@tiny-lit/core';\nexport function withElement(Base) {\n    return class extends Base {\n        constructor() {\n            super(...arguments);\n            this.state = {};\n            this.rendered = false;\n            this.renderCallbacks = [];\n            this.renderRoot = this;\n            this._onUpdated = scheduled(() => {\n                while (this.renderCallbacks.length)\n                    this.renderCallbacks.shift()();\n                this.rendered ? this.updated() : this.firstUpdated();\n                this.rendered = true;\n            });\n        }\n        attachShadow(shadowRootInitDict) {\n            return (this.renderRoot = super.attachShadow.call(this, shadowRootInitDict));\n        }\n        connectedCallback() {\n            this.update();\n        }\n        setState(nextState, callback) {\n            const state = this.state;\n            this.state = Object.assign(Object.assign({}, state), (typeof nextState === 'function'\n                ? nextState(state, this)\n                : nextState));\n            callback && this.renderCallbacks.push(callback);\n            this.update();\n        }\n        render() {\n            return null;\n        }\n        firstUpdated() { }\n        beforeUpdate() { }\n        updated() { }\n        update() {\n            this.beforeUpdate();\n            const template = this.render();\n            template && render(template, this.renderRoot);\n            this._onUpdated();\n        }\n        ;\n    };\n}\n","import { withProps } from './withProps';\nimport { withElement } from './withElement';\nexport const Element = withProps(withElement(HTMLElement));\n","export { Element } from './Element';\nexport { withProps } from './withProps';\nexport { withElement } from './withElement';\nexport * from '@tiny-lit/core';\n","import { html } from '@tiny-lit/core';\n\nexport default html`\n<style>\n    button {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        background: none;\n        font-size: 100%;\n        vertical-align: baseline;\n        font-family: inherit;\n        font-weight: inherit;\n        color: inherit;\n        -webkit-appearance: none;\n        appearance: none;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n\n    .todoapp {\n        font: 14px 'Helvetica Neue', Helvetica, Arial, sans-serif;\n        line-height: 1.4em;\n        background: #f5f5f5;\n        color: #4d4d4d;\n        min-width: 230px;\n        max-width: 550px;\n        margin: 0 auto;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        font-weight: 300;\n    }\n\n    :focus {\n        outline: 0;\n    }\n\n    .hidden {\n        display: none;\n    }\n\n    .todoapp {\n        background: #fff;\n        margin: 130px auto;\n        position: relative;\n        box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2),\n                    0 25px 50px 0 rgba(0, 0, 0, 0.1);\n    }\n\n    .todoapp input::-webkit-input-placeholder {\n        font-style: italic;\n        font-weight: 300;\n        color: #e6e6e6;\n    }\n\n    .todoapp input::-moz-placeholder {\n        font-style: italic;\n        font-weight: 300;\n        color: #e6e6e6;\n    }\n\n    .todoapp input::input-placeholder {\n        font-style: italic;\n        font-weight: 300;\n        color: #e6e6e6;\n    }\n\n    .todoapp h1 {\n        position: absolute;\n        top: -155px;\n        width: 100%;\n        font-size: 100px;\n        font-weight: 100;\n        text-align: center;\n        color: rgb(var(--primary));\n        -webkit-text-rendering: optimizeLegibility;\n        -moz-text-rendering: optimizeLegibility;\n        text-rendering: optimizeLegibility;\n    }\n\n    .new-todo,\n    .edit {\n        position: relative;\n        margin: 0;\n        width: 100%;\n        font-size: 24px;\n        font-family: inherit;\n        font-weight: inherit;\n        line-height: 1.4em;\n        border: 0;\n        color: inherit;\n        padding: 6px;\n        border: 1px solid #999;\n        box-shadow: inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);\n        box-sizing: border-box;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n\n    .new-todo {\n        padding: 16px 16px 16px 60px;\n        border: none;\n        background: rgba(0, 0, 0, 0.003);\n        box-shadow: inset 0 -2px 1px rgba(0,0,0,0.03);\n    }\n\n    .main {\n        position: relative;\n        z-index: 2;\n        border-top: 1px solid #e6e6e6;\n    }\n\n    .toggle-all {\n        text-align: center;\n        border: none; /* Mobile Safari */\n        opacity: 0;\n        position: absolute;\n    }\n\n    .toggle-all + label {\n        width: 60px;\n        height: 34px;\n        font-size: 0;\n        position: absolute;\n        top: -52px;\n        left: -13px;\n        -webkit-transform: rotate(90deg);\n        transform: rotate(90deg);\n    }\n\n    .toggle-all + label:before {\n        content: '❯';\n        font-size: 22px;\n        color: #e6e6e6;\n        padding: 10px 27px 10px 27px;\n    }\n\n    .toggle-all:checked + label:before {\n        color: #737373;\n    }\n\n    .todo-list {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n    }\n\n    .todo-list li {\n        position: relative;\n        font-size: 24px;\n        border-bottom: 1px solid #ededed;\n    }\n\n    .todo-list li:last-child {\n        border-bottom: none;\n    }\n\n    .todo-list li.editing {\n        border-bottom: none;\n        padding: 0;\n    }\n\n    .todo-list li.editing .edit {\n        display: block;\n        width: 506px;\n        padding: 12px 16px;\n        margin: 0 0 0 43px;\n    }\n\n    .todo-list li.editing .view {\n        display: none;\n    }\n\n    .todo-list li .toggle {\n        text-align: center;\n        width: 40px;\n        /* auto, since non-WebKit browsers doesn't support input styling */\n        height: auto;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        margin: auto 0;\n        border: none; /* Mobile Safari */\n        -webkit-appearance: none;\n        appearance: none;\n    }\n\n    .todo-list li .toggle {\n        opacity: 0;\n    }\n\n    .todo-list li .toggle + label {\n        /*\n            Firefox requires '#' to be escaped - https://bugzilla.mozilla.org/show_bug.cgi?id=922433\n            IE and Edge requires *everything* to be escaped to render, so we do that instead of just the '#' - https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/7157459/\n        */\n        background-image: url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23ededed%22%20stroke-width%3D%223%22/%3E%3C/svg%3E');\n        background-repeat: no-repeat;\n        background-position: center left;\n    }\n\n    .todo-list li .toggle:checked + label {\n        background-image: url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23bddad5%22%20stroke-width%3D%223%22/%3E%3Cpath%20fill%3D%22%235dc2af%22%20d%3D%22M72%2025L42%2071%2027%2056l-4%204%2020%2020%2034-52z%22/%3E%3C/svg%3E');\n    }\n\n    .todo-list li label {\n        word-break: break-all;\n        padding: 15px 15px 15px 60px;\n        display: block;\n        line-height: 1.2;\n        transition: color 0.4s;\n    }\n\n    .todo-list li.completed label {\n        color: #d9d9d9;\n        text-decoration: line-through;\n    }\n\n    .todo-list li .destroy {\n        display: none;\n        position: absolute;\n        top: 0;\n        right: 10px;\n        bottom: 0;\n        width: 40px;\n        height: 40px;\n        margin: auto 0;\n        font-size: 30px;\n        color: #cc9a9a;\n        margin-bottom: 11px;\n        transition: color 0.2s ease-out;\n    }\n\n    .todo-list li .destroy:hover {\n        color: #af5b5e;\n    }\n\n    .todo-list li .destroy:after {\n        content: '×';\n    }\n\n    .todo-list li:hover .destroy {\n        display: block;\n    }\n\n    .todo-list li .edit {\n        display: none;\n    }\n\n    .todo-list li.editing:last-child {\n        margin-bottom: -1px;\n    }\n\n    .footer {\n        color: #777;\n        padding: 10px 15px;\n        height: 20px;\n        text-align: center;\n        border-top: 1px solid #e6e6e6;\n    }\n\n    .footer:before {\n        content: '';\n        position: absolute;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        height: 50px;\n        overflow: hidden;\n        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2),\n                    0 8px 0 -3px #f6f6f6,\n                    0 9px 1px -3px rgba(0, 0, 0, 0.2),\n                    0 16px 0 -6px #f6f6f6,\n                    0 17px 2px -6px rgba(0, 0, 0, 0.2);\n    }\n\n    .todo-count {\n        float: left;\n        text-align: left;\n    }\n\n    .todo-count strong {\n        font-weight: 300;\n    }\n\n    .filters {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n        position: absolute;\n        right: 0;\n        left: 0;\n    }\n\n    .filters li {\n        display: inline;\n    }\n\n    .filters li a {\n        color: inherit;\n        margin: 3px;\n        padding: 3px 7px;\n        text-decoration: none;\n        border: 1px solid transparent;\n        border-radius: 3px;\n    }\n\n    .filters li a:hover {\n        border-color: rgba(175, 47, 47, 0.1);\n    }\n\n    .filters li a.selected {\n        border-color: rgba(175, 47, 47, 0.2);\n    }\n\n    .clear-completed,\n    html .clear-completed:active {\n        float: right;\n        position: relative;\n        line-height: 20px;\n        text-decoration: none;\n        cursor: pointer;\n    }\n\n    .clear-completed:hover {\n        text-decoration: underline;\n    }\n\n    .shuffle {\n        margin-right: 5px;\n    }\n\n    .info {\n        margin: 65px auto 0;\n        color: #bfbfbf;\n        font-size: 10px;\n        text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);\n        text-align: center;\n    }\n\n    .info p {\n        line-height: 1;\n    }\n\n    .info a {\n        color: inherit;\n        text-decoration: none;\n        font-weight: 400;\n    }\n\n    .info a:hover {\n        text-decoration: underline;\n    }\n\n    /*\n        Hack to remove background from Mobile Safari.\n        Can't use it globally since it destroys checkboxes in Firefox\n    */\n    @media screen and (-webkit-min-device-pixel-ratio:0) {\n        .toggle-all,\n        .todo-list li .toggle {\n            background: none;\n        }\n\n        .todo-list li .toggle {\n            height: 40px;\n        }\n    }\n\n    @media (max-width: 430px) {\n        .footer {\n            height: 50px;\n        }\n\n        .filters {\n            bottom: 10px;\n        }\n    }\n</style>\n`;\n","const defer = window.requestIdleCallback || window.requestAnimationFrame;\nconst isExpired = (entry, expire = 0) => !!expire && entry.timestamp + expire < Date.now();\nconst isSameVersion = (entry, version) => entry.version === version;\nconst setItem = (key, data, { version, storage }) => {\n    const entry = {\n        timestamp: Date.now(),\n        data,\n        version,\n    };\n    defer(() => storage.setItem(key, JSON.stringify(entry)));\n    return entry;\n};\nconst getItem = (key, options, cached) => {\n    const { storage, version, expire } = options;\n    const entry = !cached ? JSON.parse(storage.getItem(key)) : cached;\n    if (!entry || isExpired(entry, expire) || !isSameVersion(entry, version)) {\n        removeItem(key, options);\n        return null;\n    }\n    return entry;\n};\nconst removeItem = (key, { storage }) => {\n    defer(() => storage.removeItem(key));\n};\nexport function getBucket(name, options) {\n    options = Object.assign({ storage: localStorage }, options);\n    let cached = null;\n    return [\n        () => {\n            cached = getItem(name, options, cached);\n            return cached ? cached.data : options.defaultValue;\n        },\n        (value) => {\n            cached = setItem(name, value, options);\n        },\n        () => {\n            removeItem(name, options);\n            cached = null;\n        },\n    ];\n}\n","import { Element, html } from '@tiny-lit/element';\nimport style from './style.js';\nimport { getBucket } from 'secchiojs';\n\nfunction prevented(f) {\n    return (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n        f(e);\n    };\n}\n\nconst [getTodos, setTodos] = getBucket('todoMvc', {\n    version: 1,\n    defaultValue: {\n        todos: [],\n        filter: null\n    }\n});\n\nfunction shuffle(array) {\n    let counter = array.length;\n\n    // While there are elements in the array\n    while (counter > 0) {\n        // Pick a random index\n        let index = Math.floor(Math.random() * counter);\n\n        // Decrease counter by 1\n        counter--;\n\n        // And swap the last element with it\n        let temp = array[counter];\n        array[counter] = array[index];\n        array[index] = temp;\n    }\n\n    return array;\n}\n\nclass TodoMVC extends Element {\n    constructor() {\n        super();\n        this.state = getTodos();\n        this.attachShadow({ mode: 'open' });\n    }\n\n    static get is() {\n        return 'todo-mvc';\n    }\n\n    setState(nextState) {\n        super.setState(nextState);\n        setTodos(this.state);\n    }\n\n    setFilter(completed) {\n        this.setState({ filter: completed });\n    }\n\n    handleAddTodo(e) {\n        this.setState({\n            todos: [\n                ...this.state.todos,\n                {\n                    text: e.target.elements[0].value,\n                    completed: false,\n                    id: Math.random().toString().substr(2)\n                }\n            ]\n        });\n        e.target.reset();\n    }\n\n    handleDeleteTodo(remove) {\n        this.setState({\n            todos: [...this.state.todos.filter((todo) => todo !== remove)]\n        });\n    }\n\n    switchCompleted(index) {\n        return prevented(() => {\n            const todos = this.state.todos;\n\n            todos[index].completed = !todos[index].completed;\n            this.setState({\n                todos: [...todos]\n            });\n        });\n    }\n\n    handleClearCompleted() {\n        this.setState({\n            todos: [...this.state.todos.filter((todo) => !todo.completed)]\n        });\n    }\n\n    connectedCallback() {\n        console.time('render');\n        this.update();\n    }\n\n    firstUpdated() {\n        console.timeEnd('render');\n    }\n\n    render() {\n        const { filter, todos } = this.state;\n\n        return html`\n            ${style}\n            <section class=\"todoapp body\">\n                <header class=\"header\">\n                    <h1>todos</h1>\n                    <form onSubmit=${prevented((e) => this.handleAddTodo(e))}>\n                        <input\n                            class=\"new-todo\"\n                            placeholder=\"What needs to be done?\"\n                            autofocus\n                        />\n                    </form>\n                </header>\n                <!-- This section should be hidden by default and shown when there are todos -->\n                <section class=\"main\">\n                    <input id=\"toggle-all\" class=\"toggle-all\" type=\"checkbox\" />\n                    <label for=\"toggle-all\">Mark all as complete</label>\n                    <ul class=\"todo-list\">\n                        <!-- These are here just to show the structure of the list items -->\n                        <!-- List items should get the class \\`editing\\` when editing and \\`completed\\` when marked as completed -->\n                        ${todos\n                            .map((todo, index) => ((todo.index = index), todo))\n                            .filter(\n                                (todo) =>\n                                    filter === null || todo.completed === filter\n                            )\n                            .map((todo) =>\n                                html`\n                                    <li\n                                        class=${todo.completed\n                                            ? 'completed'\n                                            : ''}\n                                    >\n                                        <div class=\"view\">\n                                            <input\n                                                class=\"toggle\"\n                                                type=\"checkbox\"\n                                                checked=${todo.completed}\n                                                onClick=${this.switchCompleted(\n                                                    todo.index\n                                                )}\n                                            />\n                                            <label\n                                                onClick=${this.switchCompleted(\n                                                    todo.index\n                                                )}\n                                                >${todo.text}</label\n                                            >\n                                            <button\n                                                class=\"destroy\"\n                                                onClick=${prevented(() =>\n                                                    this.handleDeleteTodo(todo)\n                                                )}\n                                            ></button>\n                                        </div>\n                                        <input\n                                            class=\"edit\"\n                                            value=${todo.text}\n                                        />\n                                    </li>\n                                `.withKey(todo.id)\n                            )}\n                    </ul>\n                </section>\n                <!-- This footer should hidden by default and shown when there are todos -->\n                <footer class=\"footer\">\n                    <!-- This should be \\`0 items left\\` by default -->\n                    <span class=\"todo-count\">\n                        <strong\n                            >${todos.filter((todo) => !todo.completed).length}\n                        </strong>\n                        item left\n                    </span>\n\n                    <ul class=\"filters\">\n                        <li>\n                            <a\n                                class=${filter === null && 'selected'}\n                                href=\"#/\"\n                                onClick=${prevented(() => this.setFilter(null))}\n                            >\n                                All\n                            </a>\n                        </li>\n                        <li>\n                            <a\n                                class=${filter === false && 'selected'}\n                                href=\"#/active\"\n                                onClick=${prevented(() =>\n                                    this.setFilter(false)\n                                )}\n                            >\n                                Active\n                            </a>\n                        </li>\n                        <li>\n                            <a\n                                class=${filter && 'selected'}\n                                href=\"#/completed\"\n                                onClick=${prevented(() => this.setFilter(true))}\n                            >\n                                Completed\n                            </a>\n                        </li>\n                    </ul>\n                    <!-- Hidden if no completed items are left ↓ -->\n                    <button\n                        class=\"clear-completed\"\n                        onClick=${prevented(() => this.handleClearCompleted())}\n                    >\n                        Clear completed\n                    </button>\n                    <button\n                        class=\"clear-completed shuffle\"\n                        onClick=${prevented(() =>\n                            this.setState({ todos: shuffle(this.state.todos) })\n                        )}\n                    >\n                        Shuffle\n                    </button>\n                </footer>\n            </section>\n            <footer class=\"info\">\n                <p>Double-click to edit a todo</p>\n                <!-- Change this out with your name and url ↓ -->\n                <p>Created by <a href=\"http://todomvc.com\">you</a></p>\n                <p>Part of <a href=\"http://todomvc.com\">TodoMVC</a></p>\n            </footer>\n        `;\n    }\n}\n\ncustomElements.define(TodoMVC.is, TodoMVC);\n","import { html, Element } from '@tiny-lit/element';\n\nclass SierpinskiDot extends Element {\n    static get is() {\n        return 'sierpinski-dot';\n    }\n\n    static get properties() {\n        return {\n            x: Number,\n            y: Number,\n            size: Number,\n            text: String,\n            hover: Boolean\n        };\n    }\n\n    x = 0;\n    y = 0;\n    size = 0;\n    text = '';\n    hover = false;\n\n    constructor() {\n        super();\n\n        // this.addEventListener('mouseover', () => this.setState({ hover: true }));\n        // this.addEventListener('mouseleave', () => this.setState({ hover: false }));\n        this.addEventListener('mouseover', () => (this.hover = true));\n        this.addEventListener('mouseleave', () => (this.hover = false));\n\n        this.attachShadow({ mode: 'closed' });\n    }\n\n    get style() {\n        const { x, y, size } = this;\n        const s = size * 1.3;\n\n        return `\n            span {\n                position: absolute;\n                font: normal 15px sans-serif;\n                text-align: center;\n                cursor: pointer;\n                color: black;\n                width: ${s}px;\n                height: ${s}px;\n                transform: translate(${x}px, ${y}px);\n                border-radius: ${s / 2}px;\n                line-height: ${s}px;\n            }\n        `;\n    }\n\n    render() {\n        const { hover, text } = this;\n\n        return html`\n            <style>\n                ${this.style}\n            </style>\n\n            <span style=${`background: ${hover ? '#ff0' : '#61dafb'}`}>\n                ${hover ? '**' + text + '**' : text}\n            </span>\n        `;\n    }\n}\n\ncustomElements.define(SierpinskiDot.is, SierpinskiDot);\n","import { Element, html } from '@tiny-lit/element';\n\nconst targetSize = 25;\n\nclass SierpinskiTriangle extends Element {\n    static get is() {\n        return 'sierpinski-triangle';\n    }\n\n    static get properties() {\n        return {\n            x: Number,\n            y: Number,\n            s: Number,\n            seconds: Number\n        };\n    }\n\n    x = 0;\n    y = 0;\n    s = 0;\n    seconds = 0;\n\n    constructor() {\n        super();\n\n        this.attachShadow({ mode: 'open' });\n    }\n\n    renderTemplate() {\n        let { s, seconds, x, y } = this;\n\n        if (s <= targetSize) {\n            return html`\n                <sierpinski-dot\n                    x=${x - targetSize / 2}\n                    y=${y - targetSize / 2}\n                    size=${targetSize}\n                    text=${seconds}\n                />\n            `;\n        }\n\n        s = s / 2;\n\n        let slowDown = true;\n        if (slowDown) {\n            let e = performance.now() + 0.8;\n            while (performance.now() < e) {\n                // Artificially long execution time.\n            }\n        }\n\n        return html`\n            <sierpinski-triangle\n                x=${x}\n                y=${y - s / 2}\n                s=${s}\n                seconds=${seconds}\n            ></sierpinski-triangle>\n            <sierpinski-triangle\n                x=${x - s}\n                y=${y + s / 2}\n                s=${s}\n                seconds=${seconds}\n            ></sierpinski-triangle>\n            <sierpinski-triangle\n                x=${x + s}\n                y=${y + s / 2}\n                s=${s}\n                seconds=${seconds}\n            ></sierpinski-triangle>\n        `;\n    }\n\n    render() {\n        return html`${this.renderTemplate()}`\n    }\n}\n\ncustomElements.define(SierpinskiTriangle.is, SierpinskiTriangle);\n","import { Element, html } from '@tiny-lit/element';\nimport './Dot';\nimport './Triangle';\n\nfunction rafInterval(fn) {\n    let running = true;\n\n    function run() {\n        fn();\n        running && requestAnimationFrame(run);\n    }\n\n    requestAnimationFrame(run);\n\n    return () => (running = false);\n}\n\nclass SchedulerDemo extends Element {\n    static get is() {\n        return 'scheduler-demo';\n    }\n\n    constructor() {\n        super();\n\n        this.attachShadow({ mode: 'open' });\n    }\n\n    static get properties() {\n        return {\n            elapsed: Number\n        };\n    }\n\n    connectedCallback() {\n        const rendered = this.rendered;\n\n        console.time('render');\n\n        this.start = Date.now();\n        this.timerInterval = setInterval(this.tick.bind(this), 1000);\n        this.renderInterval = rafInterval(() => {\n            this.elapsed = Date.now() - this.start;\n        });\n        this.setState({\n            seconds: 0\n        });\n    }\n\n    disconnectedCallback() {\n        this.renderInterval();\n        clearInterval(this.timerInterval);\n    }\n\n    tick() {\n        this.setState({\n            seconds: (this.state.seconds % 10) + 1\n        });\n    }\n\n    getTransform() {\n        const elapsed = this.elapsed;\n        const t = (elapsed / 1000) % 10;\n        const scale = 1 + (t > 5 ? 10 - t : t) / 10;\n\n        return `\n            transform: scale(${scale / 2.1}, 0.7) translateX(50%) translateZ(0);\n        `;\n    }\n\n    firstUpdated() {\n        console.timeEnd('render');\n    }\n\n    render() {\n        const { seconds } = this.state;\n\n        return html`\n            <style>\n                :host {\n                    color: black;\n                }\n\n                .container {\n                    position: absolute;\n                    transform-origin: 0 0;\n                    width: 10px;\n                    height: 10px;\n                    left: 50%;\n                    top: 50%;\n                    will-change: transform;\n                }\n            </style>\n            <div class=\"container\" style=${this.getTransform()}>\n                <sierpinski-triangle\n                    x=${0}\n                    y=${0}\n                    s=${1000}\n                    seconds=${seconds}\n                />\n            </div>\n        `;\n    }\n}\n\ncustomElements.define(SchedulerDemo.is, SchedulerDemo);\n","export var StoreEvents;\n(function (StoreEvents) {\n    StoreEvents[\"Request\"] = \"store::request\";\n    StoreEvents[\"Dispatch\"] = \"store::dispatch\";\n    StoreEvents[\"Update\"] = \"store::update\";\n})(StoreEvents || (StoreEvents = {}));\n","import { StoreEvents, } from './types';\nexport function normalizeEvent(fn) {\n    return (event, data) => {\n        if (typeof event === 'string')\n            event = { type: event, data };\n        return fn(event);\n    };\n}\nexport function requestStore(el) {\n    const event = new CustomEvent(StoreEvents.Request, { detail: {} });\n    el.dispatchEvent(event);\n    return event.detail.store;\n}\nexport function createUpdateEvent(state, mutation) {\n    return new CustomEvent(StoreEvents.Update, {\n        detail: {\n            state,\n            mutation,\n        },\n    });\n}\nexport function createDispatchEvent(type, data) {\n    return new CustomEvent(StoreEvents.Dispatch, {\n        detail: {\n            type,\n            data,\n        },\n    });\n}\n","var _a;\nimport { normalizeEvent } from './events';\nconst StateProp = Symbol();\nconst objToMap = (obj, map) => {\n    for (const key in obj)\n        map.set(key, obj[key]);\n};\nexport class Store {\n    constructor(config = {}) {\n        this[_a] = {};\n        this.mutations = new Map();\n        this.actions = new Map();\n        this.listeners = new Set();\n        this.dispatch = normalizeEvent((action) => {\n            const actions = this.actions;\n            if (actions.has(action.type))\n                actions.get(action.type)(this, action.data);\n        });\n        this.commit = normalizeEvent((mutation) => {\n            const mutations = this.mutations;\n            if (mutations.has(mutation.type)) {\n                this[StateProp] = mutations.get(mutation.type)(this.state, mutation.data);\n            }\n            this.listeners.forEach(listener => listener(mutation));\n        });\n        objToMap(config.mutations, this.mutations);\n        objToMap(config.actions, this.actions);\n        this[StateProp] = Object.assign({}, config.initialState);\n        if (config.plugins)\n            config.plugins.forEach(plugin => plugin(this));\n    }\n    get state() {\n        return this[StateProp];\n    }\n    subscribe(callback) {\n        const { listeners } = this;\n        const handler = (mutation) => callback(this.state, mutation);\n        listeners.add(handler);\n        callback(this.state);\n        return () => listeners.delete(handler);\n    }\n}\n_a = StateProp;\nexport const createStore = (store) => {\n    return new Store(store);\n};\n","import { StoreEvents } from './types';\nimport { requestStore, createDispatchEvent } from './events';\nexport function withStore(Base) {\n    return class extends Base {\n        connectedCallback() {\n            if (super.connectedCallback)\n                super.connectedCallback();\n            let store;\n            if (store = requestStore(this)) {\n                const handler = e => this.onStateChange(e.detail.state, e.detail.mutation);\n                store.addEventListener(StoreEvents.Update, handler, true);\n                this.unsubscribe = store.removeEventListener.bind(this, StoreEvents.Update, handler, true);\n                this.onStateChange(store.getStore().state);\n            }\n        }\n        disconnectedCallback() {\n            if (super.disconnectedCallback)\n                super.disconnectedCallback();\n            this.unsubscribe();\n        }\n        onStoreConnect() { }\n        onStateChange(_, __) { }\n        dispatch(type, data) {\n            this.dispatchEvent(createDispatchEvent(type, data));\n        }\n    };\n}\n","import { StoreEvents, } from './types';\nimport { createUpdateEvent } from './events';\nimport { createStore } from './store';\nexport class StoreProvider extends HTMLElement {\n    constructor() {\n        super();\n        this.store = undefined;\n        this.listeners = new WeakMap();\n        this.onStateChange = (state, mutation) => this.dispatchEvent(createUpdateEvent(state, mutation));\n        this.onStoreRequest = (event) => {\n            event.stopPropagation();\n            event.detail.store = this;\n        };\n        this.onStoreDispatch = (event) => {\n            this.getStore().dispatch(event.detail);\n        };\n        this.addEventListener(StoreEvents.Request, this.onStoreRequest, true);\n        this.addEventListener(StoreEvents.Dispatch, this.onStoreDispatch, true);\n        this.store = createStore(this.config);\n        this.store.subscribe(this.onStateChange);\n    }\n    get config() {\n        return {};\n    }\n    getStore() {\n        return this.store;\n    }\n}\n","export * from './store';\nexport * from './withStore';\nexport * from './StoreProvider';\nexport * from './types';\n","import { StoreProvider, withStore, createStore } from '@tiny-lit/store';\nimport { html, Element } from '@tiny-lit/element';\n\nconst JSONObject = value => {\n    if (typeof value === 'string') {\n        try {\n            value = JSON.parse(value);\n        } catch (e) {}\n    }\n    return value;\n};\n\nconst Items = [\n    {\n        name: 'Men+s+Tech+Shell+Full-Zip',\n        title: \"Men's Tech Shell Full-Zip\",\n        category: 'mens_outerwear',\n        price: 50.2\n    },\n    {\n        name: 'Anvil+L+S+Crew+Neck+-+Grey',\n        title: 'Anvil L/S Crew Neck - Grey',\n        category: 'mens_outerwear',\n        price: 22.15\n    },\n    {\n        name: 'Green+Flex+Fleece+Zip+Hoodie',\n        title: 'Green Flex Fleece Zip Hoodie',\n        category: 'mens_outerwear',\n        price: 45.65\n    },\n    {\n        name: 'Android+Nylon+Packable+Jacket',\n        title: 'Android Nylon Packable Jacket',\n        category: 'mens_outerwear',\n        price: 33.6\n    },\n    {\n        name: 'YouTube+Ultimate+Hooded+Sweatshirt',\n        title: 'YouTube Ultimate Hooded Sweatshirt',\n        category: 'mens_outerwear',\n        price: 32.35\n    },\n    {\n        name: 'Grey+Heather+Fleece+Zip+Hoodie',\n        title: 'Grey Heather Fleece Zip Hoodie',\n        category: 'mens_outerwear',\n        price: 38.85\n    },\n    {\n        name: 'Vastrm+Hoodie',\n        title: 'Vastrm Hoodie',\n        category: 'mens_outerwear',\n        price: 200.0\n    },\n    {\n        name: 'Recycled+Plastic+Bottle+Hoodie+-+Green',\n        title: 'Recycled Plastic Bottle Hoodie - Green',\n        category: 'mens_outerwear',\n        price: 60.95\n    },\n    {\n        name: 'Rowan+Pullover+Hood',\n        title: 'Rowan Pullover Hood',\n        category: 'mens_outerwear',\n        price: 60.85\n    },\n    {\n        name: 'Men+s+Voyage+Fleece+Jacket',\n        title: \"Men's Voyage Fleece Jacket\",\n        category: 'mens_outerwear',\n        price: 48.0\n    },\n    {\n        name: 'Eco-Jersey+Chrome+Zip+Up+Hoodie',\n        title: 'Eco-Jersey Chrome Zip Up Hoodie',\n        category: 'mens_outerwear',\n        price: 37.75\n    },\n    {\n        name: 'Android+Colorblock+Hooded+Pullover',\n        title: 'Android Colorblock Hooded Pullover',\n        category: 'mens_outerwear',\n        price: 50.2\n    },\n    {\n        name: 'Tri-blend+Full-Zip+Hoodie',\n        title: 'Tri-blend Full-Zip Hoodie',\n        category: 'mens_outerwear',\n        price: 52.2\n    },\n    {\n        name: 'Fleece+Full-Zip+Hoodie',\n        title: 'Fleece Full-Zip Hoodie',\n        category: 'mens_outerwear',\n        price: 45.65\n    },\n    {\n        name: 'Jacquard-Knit+Full-Zip+Fleece',\n        title: 'Jacquard-Knit Full-Zip Fleece',\n        category: 'mens_outerwear',\n        price: 74.9\n    },\n    {\n        name: 'YouTube+Unisex+Flex+Fleece+Zip+Hoodie',\n        title: 'YouTube Unisex Flex Fleece Zip Hoodie',\n        category: 'mens_outerwear',\n        price: 45.25\n    }\n];\n\nconst ElementWithStore = withStore(Element);\n\nclass MyStore extends StoreProvider {\n    static get is() {\n        return 'my-store';\n    }\n\n    get config() {\n        return {\n            initialState: {\n                ...JSON.parse(this.getAttribute('initial-state')),\n                cart: [],\n                count: 0\n            },\n            plugins: [store => store.subscribe(console.log)],\n            actions: {\n                addToCart({ commit }, item) {\n                    commit('addItem', item);\n                    commit('updateCount');\n                },\n                removeFromCart({ commit }, item) {\n                    commit('removeItemByIndex', item);\n                    commit('updateCount');\n                },\n                removeAllFromCart({ commit, state }) {\n                    let items = state.cart;\n\n                    items.forEach(item => commit('removeItem', item));\n\n                    commit('updateCount');\n                }\n            },\n            mutations: {\n                addItem(state, data) {\n                    return{\n                        ...state,\n                        cart: [\n                            ...state.cart,\n                            data\n                        ]\n                    };\n                },\n                removeItemByIndex(state, data) {\n                    return{\n                        ...state,\n                        cart: state.cart.filter((a, i) => i !== data)\n                    };\n                },\n                removeItem(state, item) {\n                    return {\n                        ...state,\n                        cart: state.cart.filter(i => i !== item)\n                    };\n                },\n                updateCount(state) {\n                    return {\n                        ...state,\n                        count: state.cart.length\n                    };\n                }\n            }\n        };\n    }\n}\ncustomElements.define(MyStore.is, MyStore);\n\nclass Basket extends ElementWithStore {\n    constructor() {\n        super();\n        this.count = 0;\n        this.items = [];\n        this.state = {\n            open: false\n        };\n    }\n\n    static get properties() {\n        return {\n            count: Number,\n            items: Object\n        };\n    }\n\n    onStateChange(state) {\n        this.count = state.count;\n        this.items = state.cart;\n    }\n\n    static get is() {\n        return 'shop-basket';\n    }\n\n    handleRemove(index) {\n        this.dispatch('removeFromCart', index);\n    }\n\n    handleRemoveAll() {\n        this.dispatch('removeAllFromCart');\n    }\n\n    toggleCart = () => {\n        this.setState({\n            open: !this.state.open\n        })\n    }\n\n    render() {\n        return html`\n            <style>\n                .basket {\n                    position: fixed;\n                    bottom: 0;\n                    right: 10px;\n                    color: white;\n                    z-index: 100;\n                }\n\n                .basket__list {\n                    z-index: 100;\n                    overflow-y: scroll;\n                    max-height: 150px;\n                    margin: 0;\n                }\n\n                .basket__listItem  {\n                    margin-bottom: 5px;\n                }\n\n                .basket__listItemButton {\n                    padding: 3px 5px;\n                }\n\n                .basket__dropdown {\n                    position: absolute;\n                    bottom: calc(100% + 10px);\n                    background-color: rgb(var(--background));\n                    width: 300px;\n                    right: 0;\n                    padding: 10px;\n                    border: 1px solid rgb(var(--primary));\n                }\n\n                .basket__toggle {\n                    position: relative;\n                }\n\n                .basket__badge {\n                    background: rgb(var(--primary));\n                    border-radius: 50%;\n                    padding: 2px;\n                    color: rgb(var(--background));\n                    position: absolute;\n                    top: 0;\n                    right: 0;\n                    width: 15px;\n                    height: 15px;\n                    font-size: 12px;\n                    line-height: 15px;\n                    margin: 5px 10px 0;\n                }\n\n                .basket__clear {\n                    float:right;\n                    margin-top: 20px;\n                }\n            </style>\n            <div class=\"basket\">\n                <button class=\"basket__toggle\" onClick=${this.toggleCart}>\n                    <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        viewBox=\"0 0 576 512\"\n                        width=\"24\"\n                    >\n                        <path\n                            fill=\"currentColor\"\n                            d=\"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z\"\n                        ></path>\n                    </svg>\n                    <span class=\"basket__badge\">${this.count}</span>\n                </button>\n                <div class=\"basket__dropdown\" hidden=${!this.state.open}>\n                    <span>Total: ${this.count}${html`<span>items</span>`}</span>\n\n\n                    <table class=\"basket__list\">\n                        <thead>\n                            <tr>\n                                <th>Item</th>\n                                <th>Qty</th>\n                                <th></th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            ${this.items.map(\n                                (item, index) => html`\n                                <tr>\n                                    <td>${item.title}</td>\n                                    <td>1</td>\n                                    <td>\n                                        <button\n                                            class=\"basket__listItemButton\"\n                                            onCLick=${() => this.handleRemove(index)}\n                                        >\n                                            X\n                                        </button>\n                                    </td>\n                                </tr>\n                            `)}\n                        </tbody>\n                    </table>\n\n                    ${\n                        this.items.length\n                            ? html`<button class=\"basket__clear\" onClick=${() =>\n                                this.handleRemoveAll()}>remove all</button>`\n                            : null\n                    }\n                </div>\n            </div>\n        `;\n    }\n}\ncustomElements.define(Basket.is, Basket);\n\nclass Item extends ElementWithStore {\n    item = {};\n\n    static get is() {\n        return 'shop-item';\n    }\n\n    static get properties() {\n        return {\n            item: JSONObject\n        };\n    }\n\n    handleClick = () => {\n        this.dispatch('addToCart', this.item);\n    };\n\n    render() {\n        return html`\n            <div class=\"detail\" has-content=\"\">\n                <img\n                    src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw\"\n                    width=\"300\"\n                    height=\"300\"\n                    class=\"image\"\n                />\n                <h1>${this.item.title}</h1>\n                <div class=\"price\">${this.item.price}$</div>\n                <button\n                    onClick=${this.handleClick}\n                    class=\"button\"\n                    aria-label=\"Add this item to cart\"\n                >\n                    Add to Cart\n                </button>\n            </div>\n        `;\n    }\n}\ncustomElements.define(Item.is, Item);\n\nclass StoreDemo extends Element {\n    static get is() {\n        return 'store-demo';\n    }\n\n    render() {\n        return html`\n            <style>\n                h1 {\n                    font-size: 13px;\n                    font-weight: 500;\n                    line-height: 28px;\n                    margin: 0;\n                }\n                .detail {\n                    text-align:center;\n                    margin: 0 28px 48px;\n                }\n                .price {\n                    margin: 0px 0 10px;\n                    font-size: 13px;\n                }\n                .image {\n                    max-width: 100%;\n                    background: rgb(117, 117, 117);\n                }\n                my-store {\n                    display: flex;\n                    flex-wrap: wrap;\n                    position: relative;\n                }\n                shop-item {\n                    flex: 1 1;\n                    flex-basis: 33%;\n                    max-width: 33%;\n                }\n                @media (max-width: 767px) {\n                    shop-item {\n                        flex-basis: 100%;\n                        max-width: 100%;\n                    }\n                }\n            </style>\n            <my-store>\n                <shop-basket></shop-basket>\n                ${Items.map(item => html`<shop-item item=${item}></shop-item>`)}\n            </my-store>\n        `;\n    }\n}\n\ncustomElements.define(StoreDemo.is, StoreDemo);\n","import { Element, html } from '@tiny-lit/element';\n\nconst t = (c) => html` <div>${c}</div> `;\n\nclass Svg extends Element {\n    static get is() {\n        return 'test-svg';\n    }\n\n    static get properties() {\n        return {\n            radius: Number\n        };\n    }\n\n    maxRadius = 50;\n\n    constructor() {\n        super();\n        this.attachShadow({ mode: 'open' });\n    }\n\n    onChange = ({ target }) => {\n        this.maxRadius = Number(target.value);\n        this.update();\n    };\n\n    connectedCallback() {\n        super.connectedCallback();\n\n        this.interval = setInterval(() => {\n            this.radius = Math.abs(\n                Math.sin(Date.now() / 1000) * this.maxRadius\n            );\n        }, 10);\n    }\n\n    disconnectedCallback() {\n        clearInterval(this.interval);\n    }\n\n    get radius() {\n        console.log(\"get\");\n    }\n\n    set radius(value) {\n        console.log(\"set\", value);\n    }\n\n    render() {\n        return html`\n            <style>\n                :host {\n                    display: flex;\n                    align-items: center;\n                    justify-content: space-between;\n                    flex-direction: column;\n                    height: 50vh;\n                }\n            </style>\n            <div>\n                <p>Max size</p>\n                <input\n                    type=\"range\"\n                    min=\"10\"\n                    max=\"100\"\n                    onChange=${this.onChange}\n                />\n            </div>\n            <svg height=${this.maxRadius * 2} width=${this.maxRadius * 2}>\n                <circle\n                    cx=${this.maxRadius}\n                    cy=${this.maxRadius}\n                    r=\"${this.radius}\"\n                    stroke=\"black\"\n                    stroke-width=\"3\"\n                    fill=\"red\"\n                />\n                Sorry, your browser does not support inline SVG.\n            </svg>\n        `;\n    }\n}\ncustomElements.define(Svg.is, Svg);\n","export default () => ({\n    path() {\n        return location.hash ? location.hash.substring(1) : '/';\n    },\n    go(path) {\n        location.hash = `#${path}`;\n    },\n    listen(callback) {\n        addEventListener('hashchange', callback);\n        return removeEventListener.bind(window, 'hashchange', callback);\n    }\n});\n","export default () => ({\n    path() {\n        return location.pathname;\n    },\n    go(path) {\n        history.pushState(null, document.title, path);\n        dispatchEvent(new Event('pushstate'));\n    },\n    listen(callback) {\n        addEventListener('popstate', callback);\n        addEventListener('pushstate', callback);\n        return removeEventListener.bind(window, 'popstate', callback);\n    }\n});\n","export { default as createHashHistory } from './hash';\nexport { default as createPathHistory } from './path';\n","import { createPathHistory, createHashHistory } from './history';\nconst ParamsRegex = /\\/:([\\w]+)(?:{([\\w,]+)})?(\\?)?/g;\nfunction parsePath(path) {\n    let m, params = [], pattern = path;\n    if (path === '*') {\n        return {\n            regex: /.*/,\n            params: []\n        };\n    }\n    while ((m = ParamsRegex.exec(path))) {\n        const paramRegex = m[2] ? `${m[2].split(',').join('|')}` : '[^/]+';\n        params.push(m[1]);\n        pattern = pattern.replace(m[0], `(?:\\\\/(${paramRegex}))${m[3] ? '?' : ''}`);\n    }\n    return {\n        regex: new RegExp(`^${pattern}\\\\/?$`),\n        params\n    };\n}\nexport class Router {\n    constructor({ interceptLocals, useHash }) {\n        this.routes = [];\n        this.handleLocalClick = e => {\n            const target = e.target;\n            if (target.nodeName === 'A' &&\n                target.href.indexOf(location.origin) === 0) {\n                e.preventDefault();\n                this.goTo(target.getAttribute('href'));\n            }\n        };\n        this.resolve = () => {\n            const path = this.history.path();\n            const current = this.current;\n            this.routes.some((route) => {\n                let match = path.match(route.regex);\n                const { onEnter, onUpdate } = route.callbacks;\n                if (match) {\n                    match = match\n                        .filter(m => m !== undefined)\n                        .reduce((map, m, i) => {\n                        if (i)\n                            map[route.params[i - 1]] = m;\n                        return map;\n                    }, {});\n                    if (current !== route) {\n                        this.current = route;\n                        if (current)\n                            current.callbacks.onLeave(match);\n                        onEnter(match);\n                    }\n                    else {\n                        onUpdate(match);\n                    }\n                }\n                return match;\n            });\n        };\n        if (useHash)\n            this.history = createHashHistory();\n        else\n            this.history = createPathHistory();\n        this.history.listen(this.resolve);\n        if (interceptLocals)\n            document.addEventListener('click', this.handleLocalClick);\n    }\n    on(path, callbacks = {}) {\n        const route = Object.assign({ path,\n            callbacks }, parsePath(path));\n        this.routes.push(route);\n        return () => (this.routes = this.routes.filter(r => r !== route));\n    }\n    goTo(path) {\n        this.history.go(path);\n    }\n}\n","export var RouterEvents;\n(function (RouterEvents) {\n    RouterEvents[\"Request\"] = \"router::request\";\n    RouterEvents[\"Change\"] = \"router::change\";\n})(RouterEvents || (RouterEvents = {}));\n","import { RouterEvents } from './types';\nexport function requestRouter(el) {\n    const event = new CustomEvent(RouterEvents.Request, { detail: {} });\n    el.dispatchEvent(event);\n    return event.detail.router;\n}\n","import { requestRouter } from './events';\nconst importedModules = new Set();\nconst importModule = url => new Promise(resolve => {\n    if (!url || importedModules.has(url))\n        return resolve();\n    else {\n        const script = document.createElement('script');\n        script.onload = resolve;\n        script.src = url;\n        document.head.appendChild(script);\n        importedModules.add(url);\n    }\n});\nconst waitComponent = (route, component) => importModule(route.getAttribute('module'))\n    .then(() => customElements.whenDefined(component.localName));\nexport class RouteElement extends HTMLElement {\n    connectedCallback() {\n        const path = this.getAttribute('path'), componentName = this.getAttribute('component');\n        if (!path || !componentName)\n            return;\n        if ((this.router = requestRouter(this))) {\n            const component = document.createElement(componentName);\n            this.dispose = this.router.on(path, {\n                onEnter: params => {\n                    waitComponent(this, component)\n                        .then(() => this.appendChild(component))\n                        .then(() => component.onRouteEnter &&\n                        component.onRouteEnter(params));\n                },\n                onUpdate: params => {\n                    waitComponent(this, component).then(() => component.onRouteUpdate &&\n                        component.onRouteUpdate(params));\n                },\n                onLeave: () => {\n                    waitComponent(this, component)\n                        .then(() => component.onRouteLeave &&\n                        component.onRouteLeave())\n                        .then(() => this.removeChild(component));\n                }\n            });\n        }\n    }\n    disconnectedCallback() {\n        if (this.dispose)\n            this.dispose();\n    }\n}\n","import { Router } from './router';\nimport { RouterEvents } from './types';\nexport class RouterProvider extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        this.onRouterRequest = (e) => {\n            e.detail.router = this.router;\n        };\n    }\n    connectedCallback() {\n        document.body.addEventListener(RouterEvents.Request, this.onRouterRequest, true);\n        if (!this.router) {\n            this.router = new Router({\n                interceptLocals: this.hasAttribute('intercept-locals'),\n                useHash: this.hasAttribute('use-hash')\n            });\n        }\n        Promise.resolve().then(this.router.resolve);\n    }\n    disconnectedCallback() {\n        document.body.removeEventListener(RouterEvents.Request, this.onRouterRequest, true);\n    }\n}\n","export { Router } from './router';\nexport { RouteElement } from './RouteElement';\nexport { RouterProvider } from './RouterProvider';\n","import './todo/index.js';\nimport './scheduler/index.js';\nimport './store/index.js';\nimport './svg/index.js';\n\nimport { RouterProvider, RouteElement } from '@tiny-lit/router';\n\ncustomElements.define('demo-router', RouterProvider);\ncustomElements.define('demo-route', RouteElement);\n"]}